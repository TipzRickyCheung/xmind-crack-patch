(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[8905],{58061:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(23645),s=i.n(n)()((function(e){return e[1]}));s.push([e.id,".sheet-rendering-mask[data-v-7f75110b] {\n  z-index: 99;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.slide-animation[data-v-7f75110b] {\n  animation-duration: 0.3s;\n}\n.slide-panel[data-v-7f75110b] {\n  width: 268px;\n  height: 100%;\n  z-index: 1019;\n}\n.slide-panel-placeholder[data-v-7f75110b] {\n  --uk-flex-size: 268px;\n}\n",""]);const a=s},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=e(t);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&s[o[0]]||(i&&(o[2]?o[2]="".concat(i," and ").concat(o[2]):o[2]=i),t.push(o))}},t}},36442:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var n,s=i(2954),a=i(82361),l=i(72298),r=i(67657),o=i(85786),d=i(37475),c=i(77242),u=i(92870),p=function(e,t,i,n){return new(i||(i=Promise))((function(s,a){function l(e){try{o(n.next(e))}catch(e){a(e)}}function r(e){try{o(n.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,r)}o((n=n.apply(e,t||[])).next())}))};!function(e){e.DEFAULT="DEFAULT",e.LINK="LINK"}(n||(n={}));class h extends a.EventEmitter{constructor(){super(),this.spellcheckerData={},this.spellchecker={isMisspelled:e=>this.spellcheckerData.misspelledWord===e,getCorrectionsForMisspelling:e=>this.spellcheckerData.misspelledWord===e?this.spellcheckerData.dictionarySuggestions:[]},this.$T=(e,...t)=>(0,u.JE)().T(e,...t)}init(){r.getCurrentWebContents().on("context-menu",((e,t)=>{this.spellcheckerData={misspelledWord:t.misspelledWord,dictionarySuggestions:t.dictionarySuggestions}}));const e=(e,t)=>{let i;if(t.includes(e))i=e;else{const[n]=e.split(/[-_]/),s=t.map((e=>e.split(/[-_]/)[0])).indexOf(n);s>-1&&(i=t[s])}return i};(0,s.YP)((()=>(0,u.S)().language),(t=>{const i=r.getCurrentWebContents().session,n=i.availableSpellCheckerLanguages,s=e(t,n)||"en-US",a=(0,u.S)().systemLanguage,l=e(a,n)||"en-US";i.setSpellCheckerLanguages([...new Set([s,l,"en-US"])])})),window.addEventListener("contextmenu",(e=>{const t=e.target;t.closest('textarea, input[type="text"], [contenteditable="true"], [contenteditable=""]')&&setTimeout((()=>p(this,void 0,void 0,(function*(){const e=yield i.e(7462).then(i.bind(i,17462));let s=n.DEFAULT;e.Editor.getHref(t)&&(s=n.LINK,(0,d.FW)(t.closest("a"))),this.buildSpellContextMenu({content:document.getSelection().toString(),target:t,menuType:s})}))),100)}))}buildSpellContextMenu({content:e,target:t,menuType:i}){"function"==typeof this.suggestedBuildSpellContextMenu?(this.suggestedBuildSpellContextMenu(),this.suggestedBuildSpellContextMenu=null):this.buildDefaultSpellContextMenu({content:e,target:t,menuType:i})}genDefaultMenuPart(e){const t=[],i=this.getCorrectionsForMisspelling(e);if(this.spellchecker.isMisspelled(e)&&i&&i.length)for(const e of i)t.push({label:e,click:()=>document.execCommand("insertText",!1,e)});else t.push({label:this.$T("No Guesses Found"),enabled:!1});return t.push({type:"separator"}),t.push({label:this.$T("Learn Spelling"),click:()=>this.add(e)}),t}genLinkMenuPart(e){const t=[],i=e.closest("a");if(i)return t.push({label:this.$T("Open Link"),click:()=>(0,o.DL)(i.href,this.$T)}),t.push({label:this.$T("Copy Link"),click:()=>l.clipboard.writeText(i.href)}),t.push({label:this.$T("Edit Link"),click:()=>(0,u.JX)().handleCommand("notes.editLink")}),t.push({label:this.$T("Remove Link"),click:()=>{(0,u.JX)().handleCommand("notes.removeLink")}}),t}buildDefaultSpellContextMenu({content:e,target:t,menuType:i}){let s=[];i===n.DEFAULT?s=this.genDefaultMenuPart(e):i===n.LINK&&(s=this.genLinkMenuPart(t)),s.push({type:"separator"}),s.push({label:this.$T("Cut"),click:()=>document.execCommand("cut")}),s.push({label:this.$T("Copy"),enabled:"string"==typeof e&&""!=e,click:()=>document.execCommand("copy")}),s.push({label:this.$T("Paste"),enabled:l.clipboard.readText()&&""!=l.clipboard.readText(),click:()=>document.execCommand("insertText",!1,l.clipboard.readText())}),s.push({type:"separator"}),s.push({label:this.$T("Select All"),click:()=>document.execCommand("selectAll")}),(0,c.k)(s)}getCorrectionsForMisspelling(e){return this.spellchecker.getCorrectionsForMisspelling(e)}add(e){r.getCurrentWebContents().session.addWordToSpellCheckerDictionary(e)}setSuggestedBuildSpellContextMenuFn(e){this.suggestedBuildSpellContextMenu=e}}const v=new h},77242:(e,t,i)=>{"use strict";i.d(t,{I:()=>l,k:()=>a});var n=i(67657);const{Menu:s}=n,a=(e,t={})=>{const i=s.buildFromTemplate(e);return i.popup(Object.assign({window:n.getCurrentWindow()},t)),i},l=()=>{const e=s.getApplicationMenu();return e&&e.items||[]}},88905:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(2954),s=i(10182),a=i(21029),l=i(76893),r=i(79792),o=i(96160),d=i(36442),c=i(92870),u=i(3889),p=i(14315);const h=(0,n.aZ)({props:{progressText:{type:String,default:""},activeEditorProgressText:{type:String,default:""}},components:{Spinner:()=>i.e(9891).then(i.bind(i,49891)),Editor:()=>i.e(3929).then(i.bind(i,3929)),BottomBar:()=>i.e(8241).then(i.bind(i,98241)),FormatPanel:()=>Promise.all([i.e(6486),i.e(8204),i.e(716)]).then(i.bind(i,98204)),DragBar:()=>i.e(1809).then(i.bind(i,1809)),SearchPanel:()=>i.e(6525).then(i.bind(i,76525)),IconPanel:()=>i.e(761).then(i.bind(i,20761)),Outliner:()=>Promise.all([i.e(6486),i.e(2118),i.e(7462),i.e(5644),i.e(1626),i.e(7893)]).then(i.bind(i,22854)),Promotion:()=>i.e(688).then(i.bind(i,80688))},setup(){const e=(0,n.iH)(!1);Promise.all([i.e(6486),i.e(8204),i.e(716)]).then(i.bind(i,98204)),o.h0.initThemePreviewModule();const t=(0,n.iH)(!1),h=(0,n.iH)(!1),v=(0,n.Fl)((()=>{var e,t,i;const n=null===(e=(0,r.r)())||void 0===e?void 0:e.activeEditorId,a=null===(t=(0,r.r)())||void 0===t?void 0:t.editorViewInfos,l=null==a?void 0:a.find((({id:e})=>e===n));return n===window.editorId?(null===(i=(0,r.A)())||void 0===i?void 0:i.isAlive)||(0,s.y)().isAlive:null==l?void 0:l.isAlive})),f=(0,n.Fl)((()=>(0,a.$)().isOutlinerMode)),m=(0,n.Fl)((()=>(0,a.$)().isSearchPanelVisible)),g=(0,n.Fl)((()=>(0,a.$)().isIconPanelVisible)),b=(0,n.Fl)((()=>(0,a.$)().isRightbarVisible)),k=(0,n.Fl)((()=>(0,l.E)().isEditorVisible)),x=(0,n.Fl)((()=>(0,l.E)().sheetRendering)),C=(0,n.Fl)((()=>!(0,a.$)().zenMode&&(0,l.E)().isEditorVisible&&(0,l.E)().isSheetBarVisible)),y=(0,n.Fl)((()=>(0,c.Gu)().currentPromotion)),P=(0,n.iH)(null),w=(0,n.Fl)((()=>P.value||268));return(0,n.YP)((()=>{var e,t;return null!==(t=null===(e=(0,r.r)())||void 0===e?void 0:e.isZenMode)&&void 0!==t&&t}),(e=>{(0,a.$)().setZenMode(e)})),(0,n.YP)((0,o.nZ)().activeSheetViewerInited,(t=>{e.value=t})),(0,n.YP)((0,o.nZ)().isEditorFirstRendered,(e=>{e&&(0,p.r)().getLoadedFonts().then((e=>{const t=Object.assign(Object.assign({},e.systemFonts),e.vanaFonts),i=Object.keys(t).reduce(((e,i)=>e.concat(t[i].styles.map((e=>Object.assign(Object.assign({},e),{family:i}))))),[]);return(0,u.O)().updateFontsForMindMap(i),(0,o.nZ)().setFonts(i),(0,u.O)().updateAllFonts(e)}))}),{immediate:!0}),(0,n.bv)((()=>{d.A.init()})),{isEditorVisible:k,isSearchPanelVisible:m,activateEditorIsAlive:v,isSearchPanelPlaceholderVisible:t,isFormatPanelPlaceholderVisible:h,isIconPanelVisible:g,isRightbarVisible:b,sheetRendering:x,isOutlineMode:f,isBottomBarVisible:C,isMindMapInited:e,currentPromotion:y,LEFT_PANEL_WIDTH:268,MAX_LEFT_PANEL_WIDTH:563,dragedWidth:P,currentLeftBarPanelWidth:w}}});i(82047);const v=(0,i(51900).Z)(h,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"uk-panel uk-position-cover"},[t("div",{staticClass:"uk-panel uk-flex uk-flex-row uk-position-cover"},[t("transition",{attrs:{"enter-active-class":"uk-animation-flex-fixed slide-animation","leave-active-class":"uk-animation-flex-fixed uk-animation-reverse slide-animation"}},[e.isSearchPanelVisible?t("div",{staticClass:"uk-flex-fixed uk-panel uk-workbench-left slide-panel-placeholder",style:`will-change: transform; --uk-flex-size: ${e.currentLeftBarPanelWidth}px;`}):e._e()]),e._v(" "),t("div",{staticClass:"uk-width-expand uk-panel uk-flex uk-flex-column-reverse"},[e.isBottomBarVisible?t("bottom-bar"):e._e()],1),e._v(" "),t("transition",{attrs:{"enter-active-class":"uk-animation-flex-fixed slide-animation","leave-active-class":"uk-animation-flex-fixed uk-animation-reverse slide-animation"}},[e.isRightbarVisible?t("div",{staticClass:"uk-flex-fixed uk-panel uk-workbench-right slide-panel-placeholder",staticStyle:{"will-change":"transform"}}):e._e()])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.activateEditorIsAlive,expression:"!activateEditorIsAlive"}],staticClass:"uk-position-cover",staticStyle:{"z-index":"1020"}},[t("spinner",{staticClass:"sheet-rendering-mask",staticStyle:{"z-index":"initial","padding-bottom":"30px"},attrs:{text:e.activeEditorProgressText}}),e._v(" "),e._m(0)],1),e._v(" "),t("div",{staticClass:"uk-panel uk-flex uk-flex-row uk-position-cover",style:{"margin-bottom":e.isBottomBarVisible?"33px":"0px"}},[e.isSearchPanelPlaceholderVisible?t("div",{staticClass:"uk-flex-fixed uk-panel uk-workbench-left slide-panel-placeholder",style:`--uk-flex-size: ${e.currentLeftBarPanelWidth}px;`}):e._e(),e._v(" "),t("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.editor"],expression:"['focus.editor']",arg:"group"}],staticClass:"uk-width-expand uk-panel"},[t("spinner",{directives:[{name:"show",rawName:"v-show",value:e.sheetRendering||!e.isMindMapInited,expression:"sheetRendering || !isMindMapInited"}],staticClass:"uk-position-cover sheet-rendering-mask",attrs:{text:e.progressText}}),e._v(" "),e.isOutlineMode?t("outliner",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.outliner"],expression:"['focus.outliner']",arg:"group"}]}):e._e(),e._v(" "),t("editor",{directives:[{name:"show",rawName:"v-show",value:!e.isOutlineMode&&e.isEditorVisible,expression:"!isOutlineMode && isEditorVisible"}],attrs:{"progress-indicator-text":e.progressText}})],1),e._v(" "),e.isFormatPanelPlaceholderVisible?t("div",{staticClass:"uk-flex-fixed uk-panel uk-workbench-right slide-panel-placeholder"}):e._e()]),e._v(" "),t("keep-alive",[t("transition",{attrs:{"enter-active-class":"uk-animation-slide-left slide-animation","leave-active-class":"uk-animation-slide-left uk-animation-reverse slide-animation"},on:{"after-enter":function(t){e.isSearchPanelPlaceholderVisible=!0},"before-leave":function(t){e.isSearchPanelPlaceholderVisible=!1}}},[e.isSearchPanelVisible?t("div",{staticClass:"uk-panel uk-workbench-left uk-position-left slide-panel",staticStyle:{"will-change":"transform"},style:`width: ${e.currentLeftBarPanelWidth}px`},[t("drag-bar",{attrs:{"min-panel-width":e.LEFT_PANEL_WIDTH,"max-panel-width":e.MAX_LEFT_PANEL_WIDTH},on:{change:t=>e.dragedWidth=t}}),e._v(" "),t("search-panel",{attrs:{"panel-width":e.currentLeftBarPanelWidth}})],1):e._e()])],1),e._v(" "),t("keep-alive",[t("transition",{attrs:{"enter-active-class":"uk-animation-slide-right slide-animation","leave-active-class":"uk-animation-slide-right uk-animation-reverse slide-animation"},on:{"after-enter":function(t){e.isFormatPanelPlaceholderVisible=!0},"before-leave":function(t){e.isFormatPanelPlaceholderVisible=!1}}},[e.isRightbarVisible?t("div",{staticClass:"uk-panel uk-workbench-right uk-position-right uk-scrollbar-overlay slide-panel"},[t("format-panel")],1):e._e()])],1),e._v(" "),t("keep-alive",[e.isIconPanelVisible?t("icon-panel"):e._e()],1),e._v(" "),e.currentPromotion?t("promotion"):e._e()],1)}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"workbench-status-bar uk-width-1-1 uk-position-absolute",staticStyle:{height:"33px",bottom:"0px"}},[t("hr",{staticClass:"uk-separator"}),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-row uk-flex-middle uk-padding-xsmall",staticStyle:{height:"24px"}})])}],!1,null,"7f75110b",null).exports},82047:(e,t,i)=>{var n=i(58061);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,i(45346).Z)("434eb3b0",n,!0,{})},45346:(e,t,i)=>{"use strict";function n(e,t){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],l=a[0],r={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};n[l]?n[l].parts.push(r):i.push(n[l]={id:l,parts:[r]})}return i}i.d(t,{Z:()=>v});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},l=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,o=0,d=!1,c=function(){},u=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e,t,i,s){d=i,u=s||{};var l=n(e,t);return f(l),function(t){for(var i=[],s=0;s<l.length;s++){var r=l[s];(o=a[r.id]).refs--,i.push(o)}t?f(l=n(e,t)):l=[];for(s=0;s<i.length;s++){var o;if(0===(o=i[s]).refs){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete a[o.id]}}}}function f(e){for(var t=0;t<e.length;t++){var i=e[t],n=a[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(g(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var l=[];for(s=0;s<i.parts.length;s++)l.push(g(i.parts[s]));a[i.id]={id:i.id,refs:1,parts:l}}}}function m(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function g(e){var t,i,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(d)return c;n.parentNode.removeChild(n)}if(h){var s=o++;n=r||(r=m()),t=x.bind(null,n,s,!1),i=x.bind(null,n,s,!0)}else n=m(),t=C.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var b,k=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,s);else{var a=document.createTextNode(s),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function C(e,t){var i=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),u.ssrId&&e.setAttribute(p,t.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}}}]);