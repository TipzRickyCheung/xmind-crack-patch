/*! For license information please see dialog-topiclink.js.LICENSE.txt */
(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[8577],{26601:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e){var t,n,i=e.sizes.shift(),r=Math.max(Math.ceil(i[0]),1),o=Math.max(Math.ceil(i[1]),1),s=[r-1,o-1,1,1],a=Date.now(),l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;l?(t=new OffscreenCanvas(1,1),n=new OffscreenCanvas(r,o)):((t=document.createElement("canvas")).width=1,t.height=1,(n=document.createElement("canvas")).width=r,n.height=o);var c=t.getContext("2d"),u=n.getContext("2d");u&&(u.fillRect.apply(u,s),c.drawImage(n,r-1,o-1,1,1,0,0,1,1));var h=c&&0!==c.getImageData(0,0,1,1).data[3],p=Date.now()-a;return[t,n].forEach((function(e){e.height=0,e.width=0})),l?(postMessage({width:r,height:o,benchmark:p,isTestPass:h}),!h&&e.sizes.length&&d(e)):h?e.onSuccess(r,o,p):(e.onError(r,o,p),e.sizes.length&&d(e)),h}n.d(t,{Z:()=>_});var h=[16384,14188,11402,11180,10836,8192,4096,1],p=[8388607,65535,32767,16384,8192,4096,1],f=[4194303,65535,32767,16384,8192,4096,1],m=["onError","onSuccess"],g={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},y={};function b(e){var t=e.width===e.height,n=1===e.height,i=1===e.width,r=[];if(e.width&&e.height)for(var o=e.min||g.min,s=e.step||g.step,a=Math.max(e.width,e.height);a>=o;){var l=t||n?a:1,c=t||i?a:1;r.push([l,c]),a-=s}else e.sizes.forEach((function(e){var o=t||n?e:1,s=t||i?e:1;r.push([o,s])}));return r}function v(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,i=Date.now(),o=e.onError,l=e.onSuccess,c=s(e,m),u=null;if(!t)return!1;if(e.useWorker&&n){var h="\n            var canvasTest = ".concat(d.toString(),";\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),p=new Blob([h],{type:"application/javascript"}),f=URL.createObjectURL(p);u=new Worker(f),URL.revokeObjectURL(f),u.onmessage=function(e){var t=e.data,n=t.width,r=t.height,o=t.benchmark;t.isTestPass?(y[i].onSuccess(n,r,o),delete y[i]):y[i].onError(n,r,o)}}return e.usePromise?new Promise((function(t,n){var s=r(r({},e),{},{onError:function(t,i,r){var s;if(0===e.sizes.length)s=!0;else{var l=a(e.sizes.slice(-1),1),c=a(l[0],2),u=c[0],d=c[1];s=t===u&&i===d}o(t,i,r),s&&n({width:t,height:i,benchmark:r})},onSuccess:function(e,n,i){l(e,n,i),t({width:e,height:n,benchmark:i})}});if(u){var h=s.onError,p=s.onSuccess;y[i]={onError:h,onSuccess:p},u.postMessage(c)}else d(s)})):u?(y[i]={onError:o,onSuccess:l},void u.postMessage(c)):d(e)}var _={maxArea:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b({width:e.max,height:e.max,min:e.min,step:e.step,sizes:l(h)});return v(r(r(r({},g),e),{},{sizes:t}))},maxHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b({width:1,height:e.max,min:e.min,step:e.step,sizes:l(p)});return v(r(r(r({},g),e),{},{sizes:t}))},maxWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b({width:e.max,height:1,min:e.min,step:e.step,sizes:l(f)});return v(r(r(r({},g),e),{},{sizes:t}))},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(r({},g),e);return t.sizes=l(t.sizes),t.width&&t.height&&(t.sizes=[[t.width,t.height]]),v(t)}}},41809:(e,t)=>{"use strict";function n(e){var t=-1;i||(i=function(){for(var e=new Int32Array(256),t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}());for(var n=0;n<e.length;n++)t=i[255&(t^e[n])]^t>>>8;return-1^t}t.E4=function(e,t){var n=e.slice(0,33);return new Promise((function(i,r){var o=new FileReader;o.onload=function(){var n=new Uint8Array(o.result),r=e.slice(33),s=p(n,t,e.type);i(new Blob([s,r],{type:e.type}))},o.readAsArrayBuffer(n)}))},t.Hv=function(e,t){var n=e.split(","),i=n[0],c=n[1],u=void 0,d=void 0,h=!1;if(-1!==i.indexOf(r)){u=r;var f=function(e){var t=e.indexOf(s);-1===t&&(t=e.indexOf(a));-1===t&&(t=e.indexOf(l));return t}(c);f>=0?(d=4*Math.ceil((f+28)/3),h=!0):d=44}-1!==i.indexOf(o)&&(u=o,d=24);for(var m=c.substring(0,d),g=c.substring(d),y=atob(m),b=new Uint8Array(y.length),v=0;v<b.length;v++)b[v]=y.charCodeAt(v);var _=p(b,t,u,h),w=btoa(String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(_)));return[i,",",w,g].join("")};var i=void 0,r="image/png",o="image/jpeg",s="AAlwSFlz",a="AAAJcEhZ",l="AAAACXBI",c="p".charCodeAt(0),u="H".charCodeAt(0),d="Y".charCodeAt(0),h="s".charCodeAt(0);function p(e,t,i,s){if(i===o)return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e;if(i===r){var a=new Uint8Array(13);t*=39.3701,a[0]=c,a[1]=u,a[2]=d,a[3]=h,a[4]=t>>>24,a[5]=t>>>16,a[6]=t>>>8,a[7]=255&t,a[8]=a[4],a[9]=a[5],a[10]=a[6],a[11]=a[7],a[12]=1;var l=n(a),p=new Uint8Array(4);if(p[0]=l>>>24,p[1]=l>>>16,p[2]=l>>>8,p[3]=255&l,s){var f=function(e){for(var t=e.length-1;t>=4;t--)if(9===e[t-4]&&e[t-3]===c&&e[t-2]===u&&e[t-1]===d&&e[t]===h)return t-3}(e);return e.set(a,f),e.set(p,f+13),e}var m=new Uint8Array(4);m[0]=0,m[1]=0,m[2]=0,m[3]=9;var g=new Uint8Array(54);return g.set(e,0),g.set(m,33),g.set(a,37),g.set(p,50),g}}},88668:(e,t,n)=>{var i=n(83369),r=n(90619),o=n(72385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},82908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},90939:(e,t,n)=>{var i=n(2492),r=n(37005);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},2492:(e,t,n)=>{var i=n(46384),r=n(67114),o=n(18351),s=n(16096),a=n(64160),l=n(1469),c=n(44144),u=n(36719),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var b=l(e),v=l(t),_=b?h:a(e),w=v?h:a(t),x=(_=_==d?p:_)==p,S=(w=w==d?p:w)==p,k=_==w;if(k&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(k&&!x)return y||(y=new i),b||u(e)?r(e,t,n,m,g,y):o(e,t,_,n,m,g,y);if(!(1&n)){var T=x&&f.call(e,"__wrapped__"),C=S&&f.call(t,"__wrapped__");if(T||C){var R=T?e.value():e,O=C?t.value():t;return y||(y=new i),g(R,O,n,m,y)}}return!!k&&(y||(y=new i),s(e,t,n,m,g,y))}},74757:e=>{e.exports=function(e,t){return e.has(t)}},67114:(e,t,n)=>{var i=n(88668),r=n(82908),o=n(74757);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var y=e[f],b=t[f];if(s)var v=c?s(b,y,f,t,e,l):s(y,b,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(y===e||a(y,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(y!==b&&!a(y,b,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},18351:(e,t,n)=>{var i=n(62705),r=n(11149),o=n(77813),s=n(67114),a=n(68776),l=n(21814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var g=s(p(e),p(t),i,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var i=n(58234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:r.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],b=t[h];if(o)var v=l?o(b,y,h,t,e,a):o(y,b,h,e,t,a);if(!(void 0===v?y===b||s(y,b,n,o,a):v)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(e),a.delete(t),m}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},18446:(e,t,n)=>{var i=n(90939);e.exports=function(e,t){return i(e,t)}},74658:(e,t,n)=>{"use strict";n.r(t);var i=n(51505),r=n(2954),o=n(63477),s=n.n(o),a=n(54856),l=n(90435),c=n(92870),u=n(24034),d=n(95246),h=n(21292),p=n(42855),f=n(87494),m=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const g=(0,r.aZ)({__name:"app",setup(e){const t=(0,r.iH)(),n=s().parse(location.search.substring(1)),i=(0,r.iH)([]),{T:o}=(0,c.JE)(),g=(0,r.iH)(""),y=(0,r.iH)(),b=(0,r.iH)(),v=(0,r.iH)(!1),_=(0,r.iH)(),w=(0,r.iH)([]),x=(0,r.iH)(),S=(0,r.Fl)((()=>i.value.map((e=>e.id)))),k=(0,r.Fl)((()=>[b.value?{type:"button",label:o("Remove"),click:"remove"}:null,{type:"space",size:"flexible"},{type:"button",label:o("Cancel"),click:"close"},w.value.length>0&&!S.value.includes(w.value[0])?{type:"button",label:o("Insert"),backgroundColor:"primary",click:"insertTopicLink"}:null,{type:"space",size:"flexible"}].filter(Boolean))),T=(0,r.Fl)((()=>i.value.map((e=>({value:e.id,type:"sheet",text:e.title,expanded:!0,sheetId:e.id,items:[N(e.rootTopic,(t=>({value:t.id,text:L(t),type:"topic",items:[],expanded:!0,sheetId:e.id})),((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,t]})))]}))))),C=(0,r.Fl)((()=>i.value.map((e=>({value:e.id,type:"sheet",text:e.title,expanded:!0,sheetId:e.id,items:N(e.rootTopic,(t=>[{value:t.id,text:L(t),type:"topic",items:[],expanded:!0,sheetId:e.id}]),((e,t)=>e.filter((e=>B(e.text))).concat(t.filter((e=>B(e.text)))))).map((e=>Object.assign(Object.assign({},e),{text:z(e.text)})))}))))),R=(0,r.Fl)((()=>g.value&&g.value.length>0)),O=(0,r.Fl)((()=>R.value?C.value.every((e=>e.items.length<=0)):T.value.every((e=>e.items.length<=0)))),I=(0,r.Fl)((()=>o("<Empty Text>"))),A=(0,r.Fl)((()=>(0,r.FN)().proxy.$toResourceURL("/static/images/navigation-panel/searchbar-search.svg")));function E(e){return m(this,void 0,void 0,(function*(){return(0,f.CX)((t=>m(this,void 0,void 0,(function*(){return"content.json"===t.path?JSON.stringify(e.content):"metadata.json"===t.path&&e.metadata?JSON.stringify(e.metadata):"{}"}))),(()=>m(this,void 0,void 0,(function*(){}))))}))}(0,r.YP)((()=>g.value),(()=>w.value=[])),(0,r.bv)((()=>{y.value=null,b.value="true"===n.hasTopicLink,_.value=n.xmindObjectId,l.ZP.fetch((0,a.zj)(n.editorId)).then((e=>m(this,void 0,void 0,(function*(){const t=JSON.parse(e),n=yield E({content:t.content,metadata:t.metadata});i.value=n.sheets,(0,r.Y3)().then((()=>{const e=window.document.querySelector(`button.uk-tree-list-item[data-value="${_.value}"]`);e&&e.classList.add("uk-checked")}))})))),W()})),(0,r.Ah)((()=>{F()}));const D=()=>window.close(),P=e=>m(this,void 0,void 0,(function*(){e&&e.preventDefault(),yield l.ZP.fetch((0,a.iM)(window.id),{action:"remove",topicId:""}),window.close()})),j=()=>m(this,void 0,void 0,(function*(){w.value.length&&(yield l.ZP.fetch((0,a.iM)(window.id),{action:"set",twoWay:v.value,topicId:w.value[0]}),window.close())})),L=e=>e.imageSource?`[${o("Image")}] ${e.title}`:e.title,M=e=>{"Enter"===e.code&&(e.preventDefault(),j())},W=()=>{window.addEventListener("keydown",M)},F=()=>{window.removeEventListener("keydown",M)};function N(e,t,n){let i=t(e);for(const r of e.children)i=n(i,N(r,t,n));for(const r of e.detachedChildren)i=n(i,N(r,t,n));for(const r of e.summaries.map((e=>e.topic)))i=n(i,N(r,t,n));return e.callout&&(i=n(i,N(e.callout,t,n))),i}const B=e=>{if(!e||e.length<=0)return!1;return!(q()[Symbol.search](e)<0)},z=e=>{const t=q()[Symbol.search](e);if(t<0)return e;const n=e.substring(t-16,t+16);return t-16>0?`...${n}`:t+16<e.length?`${n}...`:n},q=()=>H(g.value,!1,!0,!1),V=e=>e.replace(/[-\\{}*+?|^$.[\]()#]/g,"\\$&"),H=(e,t,n,i)=>{if(!e)return;e=V(e),t&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let r="";return n||(r+="i"),i&&(r+="g"),new RegExp(e,r)};return(0,u.q)(k,{remove:P,close:D,insertTopicLink:j}),{__sfc:!0,containerEl:t,modalData:n,sheets:i,$T:o,searchKey:g,selectedIndex:y,hasTopicLink:b,checkedTwoWayLink:v,xmindObjectId:_,selected:w,searchTopicInput:x,sheetIds:S,touchBarItems:k,workbookData:T,searchResult:C,isSearchMode:R,isEmpty:O,emptyText:I,searchIconImage:A,deserializeDocument:E,close:D,remove:P,insertTopicLink:j,formatTopicTitle:L,handleTreeListKeyDown:M,startKeyListener:W,stopKeyListener:F,handleShowInputMenu:()=>(0,d.Sr)(x.value),travelTopic:N,testTitle:B,shortenTitle:z,getRegex:q,escapeRegExpCharacters:V,createRegExp:H,handleSelect:e=>{w.value=[e.value]},CommonNonePanel:h.Z,TreeListV2:p.Z}}});const y=(0,n(51900).Z)(g,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"uk-window uk-window-dialog"},[t("div",{staticClass:"uk-window-title-bar uk-window-title-bar-floating"},[t("window-control-button-group")],1),e._v(" "),t("div",{staticClass:"uk-window-body uk-flex uk-flex-row uk-padding uk-flex-column"},[t("div",{staticClass:"topiclink-search"},[t("p",{staticClass:"topiclink-search-title"},[e._v("\n        "+e._s(n.$T("Select a topic to insert link."))+"\n      ")]),e._v(" "),t("div",{staticClass:"uk-position-relative uk-width-1-1 uk-margin-small"},[t("img",{staticClass:"uk-position-absolute",staticStyle:{top:"50%",left:"4px",transform:"translateY(-50%)"},attrs:{draggable:"false",src:n.searchIconImage,"uk-svg":""}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.searchKey,expression:"searchKey"}],ref:"searchTopicInput",staticClass:"uk-input",staticStyle:{"padding-left":"20px"},attrs:{autofocus:"",type:"text",placeholder:n.$T("Find")},domProps:{value:n.searchKey},on:{contextmenu:function(e){return n.handleShowInputMenu()},input:function(e){e.target.composing||(n.searchKey=e.target.value)}}})])]),e._v(" "),n.isSearchMode&&n.isEmpty?t("div",{staticClass:"uk-flex uk-height-1-1 uk-background-default uk-panel uk-panel-scrollable"},[t(n.CommonNonePanel,{staticStyle:{height:"unset"},attrs:{type:"NO_RESULT"}})],1):t("div",{ref:"containerEl",staticClass:"uk-background-default uk-height-expand uk-overflow-auto uk-panel uk-panel-scrollable uk-padding-remove uk-text-nowrap"},[t("keep-alive",[t(n.TreeListV2,{attrs:{"high-performance-mode":!n.isSearchMode,container:n.containerEl,"model-value":n.selected,type:"radio",items:n.isSearchMode?n.searchResult:n.workbookData},on:{click:n.handleSelect},scopedSlots:e._u([{key:"item",fn:function({item:t}){return[e._v("\n            "+e._s(t.text?t.text:n.emptyText)+"\n          ")]}}])})],1)],1),e._v(" "),t("div",{staticStyle:{"margin-top":"8px"}},[t("label",[t("input",{staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:n.checkedTwoWayLink},on:{change:function(e){n.checkedTwoWayLink=!n.checkedTwoWayLink}}}),e._v(" "),t("span",{},[e._v(e._s(n.$T("Add Link for Both Topics")))])])])]),e._v(" "),t("div",{staticClass:"uk-window-button-bar"},[t("div",{staticClass:"uk-button-group"},[t("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"button",disabled:!n.selected.length||n.sheetIds.includes(n.selected[0])},on:{click:n.insertTopicLink}},[e._v("\n        "+e._s(n.$T("Insert"))+"\n      ")]),e._v(" "),t("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button"},on:{click:n.close}},[e._v("\n        "+e._s(n.$T("Cancel"))+"\n      ")])]),e._v(" "),n.hasTopicLink?t("button",{staticClass:"uk-button uk-button-default",on:{click:n.remove}},[e._v("\n      "+e._s(n.$T("Remove"))+"\n    ")]):e._e()])])}),[],!1,null,null,null).exports;(0,i.Z)(y,{name:"dialog-topiclink"})},13382:(e,t,n)=>{"use strict";n.d(t,{G$:()=>S,N0:()=>g,Pg:()=>T,R2:()=>x,W5:()=>w,ZZ:()=>b,am:()=>_,eq:()=>v,yr:()=>k});var i=n(71017),r=n.n(i),o=n(67657),s=n(7104),a=n(86633),l=n(33394),c=n(94593),u=n(90435),d=n(54856),h=n(5893),p=n(92870),f=n(92636);const m=(0,a.ZP)("dialog");async function g(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=r().join((0,s.bY)(),e.icon));const t=o.BrowserWindow.fromId(window.id);return[o.dialog.showMessageBoxSync(t,e)]}async function y(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=r().join((0,s.bY)(),e.icon));const t=o.BrowserWindow.fromId(window.id),{response:n,checkboxChecked:i}=await o.dialog.showMessageBox(t,e);return[n,i]}async function b(e){(e=Object.assign({securityScopedBookmarks:!0},e||{})).suggestPath&&!e.defaultPath&&(e.defaultPath=_(e.suggestPath,e.filters),delete e.suggestPath);const{canceled:t,filePath:n,bookmark:i}=await o.dialog.showSaveDialog(o.getCurrentWindow(),e);return t?null:(n&&i&&await l.Z.bindBookmark({fp:n,bookmark:i}),n&&(0,p.km)().setLastSaveDirectory(r().dirname(n)),n)}async function v({folderName:e,dialogOptions:t}){let n="";(t=Object.assign({securityScopedBookmarks:!0},t||{})).defaultPath||(t.defaultPath=_({}));const{canceled:i,filePaths:s,bookmark:a}=await o.dialog.showOpenDialog(o.getCurrentWindow(),t);if(i)return null;if(n=s[0],s.length>0&&a&&await l.Z.bindBookmark({fp:n,bookmark:a}),"string"==typeof e){let t=e.replace(/[\\/]/g,"");0,n=r().join(n,t)}return c.Z.existsSync(n)||c.Z.ensureDir(n),n&&(0,p.km)().setLastSaveDirectory(n),n}function _({doc:e=null,oldDoc:t=null,suggestedName:n=null},i=null){let s,a;if(!s&&n&&(s=(0,h.N6)(n.toString())),!s&&e&&e.title&&e.source&&!e.source.startsWith("new://")&&(s=(0,h.N6)(e.title.toString())),!s&&t&&t.title&&t.source&&!t.source.startsWith("new://")&&(s=(0,h.N6)(t.title.toString())),s&&Array.isArray(i)){const e=i[0]&&i[0].extensions;Array.isArray(e)&&e.length>0&&(s=`${s}.${e[0]}`)}if(!a&&t&&t.source&&t.source.startsWith("file://")){let e=t.source.slice(7);0,a=r().dirname(e)}if(!a&&(0,p.km)().lastSaveDirectory&&(a=(0,p.km)().lastSaveDirectory),!a)try{a=o.app.getPath("documents")}catch(e){m.info(e)}return a&&s?r().join(a,s):a||s}async function w(e){e.$withUIKit((t=>{const n=`\n        <button\n        class="uk-button uk-button-text uk-text-nowrap"\n        style="word-break: keep-all;"\n        focustrigger="cannotGetFocusByMouse">\n          ${e.$T("OK")}\n        </button>\n        </div>`;t.toast({message:e.$T("The map style has been updated for your current version of Xmind."),pos:"bottom-center",timeout:5e3,btn:n,style:{width:"500px",height:"auto",padding:"10px 20px"},btnClick:t.toast.clearAll()})}))}async function x(e){const t=(e="function"!=typeof e?e=>e:e)("OK"),n=e("Get Latest Version"),i=[t,n],[r]=await y({title:"Xmind",message:e("The map style in this file might vary since it was created in a newer version of Xmind."),detail:e("You can continue to open the file or update to the latest version for better compatibility."),buttons:i,defaultId:i.indexOf(n),cancelId:i.indexOf(t),noLink:!0});r===i.indexOf(n)&&u.ZP.fetch(d.lf.GO_DOWNLOAD)}async function S(e){if(e="function"!=typeof e?e=>e:e,f.zr)return await y({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created with a newer version of Xmind. Please contact your corporate administrator for the latest update."),buttons:[e("Done")],defaultId:0,noLink:!0});const t=e("Cancel"),n=e("Get Latest Version"),i=[n,t],[r]=await y({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created by a newer version of Xmind. Please update Xmind and try to open it again."),buttons:i,defaultId:i.indexOf(n),cancelId:i.indexOf(t),noLink:!0});r===i.indexOf(n)&&u.ZP.fetch(d.lf.GO_DOWNLOAD)}async function k(e){const t=(e="function"!=typeof e?e=>e:e)("Save"),n=e("Save as"),i=e("Cancel"),r=[];r.push(t,i,n);let[o]=await y({type:"none",title:"Xmind",message:e("Saving file from Xmind"),detail:e("Once you save the file, it cannot be opened normally in older versions like $1.","Xmind 22.11"),buttons:r,defaultId:r.indexOf(n),cancelId:r.indexOf(i),noLink:!0});const s=o===r.indexOf(t),a=o===r.indexOf(n);return{toSave:s,toSaveAs:a,toCancel:!s&&!a}}async function T(e){const t=(e="function"!=typeof e?e=>e:e)("Fix ＆ Open"),n=e("Cancel"),i=[t,n],[r]=await y({title:"Xmind",message:e("Failed to Open File"),detail:e("The file may contain invalid data structure or have become corrupted. Xmind can try to fix the data structure to help you open it."),buttons:i,defaultId:i.indexOf(t),cancelId:i.indexOf(n),noLink:!0});return{toFix:r===i.indexOf(t),toCancel:r===i.indexOf(n)}}},33394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(57147),r=n.n(i),o=n(71017),s=n.n(o),a=n(73837),l=n(86633),c=n(16704),u=n(56222);const d=(0,l.ZP)("renderer:fs");async function h(e){return(0,u.A)("OBTAIN_READ_WRITE_ACCESS",e)}async function p(e){return(0,u.A)("RELEASE_READ_WRITE_ACCESS",e)}const f={read:async function(e){if(!s().isAbsolute(e))throw new Error("Must be an absolute path.");const t=await async function(e){return(0,u.A)("OBTAIN_READ_LOCK",e)}(e);try{return await(0,a.promisify)(r().readFile)(e)}catch(t){d.error(`path(${e}) read error: ${(0,c.SC)(t)}`);try{if(!await h(e))throw new Error(`No access to '${e}'`);return await(0,a.promisify)(r().readFile)(e)}catch(e){throw e}finally{await p(e)}}finally{await async function(e){return(0,u.A)("RELEASE_READ_LOCK",e)}(t)}},write:async function(e,t){if(!s().isAbsolute(e))throw new Error("Must be an absolute path.");const n=await async function(e){return(0,u.A)("OBTAIN_WRITE_LOCK",e)}(e);try{return await(0,a.promisify)(r().writeFile)(e,t)}catch(n){d.error(`path(${e}) write error: ${(0,c.SC)(n)}`);try{if(!await h(e))throw new Error(`No access to '${e}'`);return await(0,a.promisify)(r().writeFile)(e,t)}catch(e){throw e}finally{await p(e)}}finally{await async function(e){return(0,u.A)("RELEASE_WRITE_LOCK",e)}(n)}},bindBookmark:async function({fp:e,bookmark:t}={}){return(0,u.A)("BIND_BOOKMARK",{fp:e,bookmark:t})},hasRWAccess:async function(e){return(0,u.A)("HAS_READ_WRITE_ACCESS",e)},obtainRWAccessFromOS:h,releaseRWAccessFromOS:p}},95246:(e,t,n)=>{"use strict";n.d(t,{RS:()=>d,lF:()=>h,gP:()=>m,sF:()=>u,GI:()=>p,Ni:()=>f,mi:()=>w,QC:()=>y,Sr:()=>b,yB:()=>_,SX:()=>v,RL:()=>g});n(13382),n(81296),n(90435),n(54856),n(71017);var i=n(72298),r=n(67657),o=(n(92636),n(41809));require("posthtml");var s=n(97234),a=n(26601),l=n(92870);const c={cache:!1},u=e=>{const t=e=>parseInt(e,16);if("string"==typeof(e=(0,s.Z)(e).toHexString())&&/^#[A-Z0-9]{6}$/.test(e.toUpperCase())){return.2126*t(e.slice(1,3))+.7152*t(e.slice(3,5))+.0722*t(e.slice(5))}return 0},d=(e={})=>{const t=Object.assign({},c,e);let n=null;const i={};return function(e="",r=""){if(t.cache&&i[e])return i[e];n||(n=document.createElement("canvas"));const o=n.getContext("2d");o.font=r;const s=o.measureText(e);return t.cache&&(i[e]=s.width),s.width}};const h=(e,t=1)=>{const n=function(){const e=r.screen.getAllDisplays().map((e=>e.scaleFactor));return Math.max.apply(null,e)}(),i=(0,o.Hv)(e,72*n*t);return Buffer.from(i.slice(22),"base64")};function p(e){let t=parseInt(e);return Number.isInteger(t)?t:100}function f(e){return`${parseInt(e)}%`}const m=function(){let e=null;return function(){if(!e)if(window.screen.deviceXDPI&&window.screen.deviceYDPI)e={x:window.screen.deviceXDPI,y:window.screen.deviceYDPI};else{const t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e={x:parseInt(t.offsetWidth),y:parseInt(t.offsetHeight)},t.parentNode.removeChild(t)}return e}}();function g(e,t){let n=(0,l.f7)().keybindingByCommandIdAndGroup(t);const i=[];return"string"==typeof n&&n.split("+").forEach((e=>{let t=e;"="===t&&(t="+"),t&&i.push(t)})),i.length>0?`${e} ${i.join(" ")}`:e}const y=(e,t)=>{r.getCurrentWindow().setSize(e,t)},b=e=>{const t=(e,...t)=>(0,l.JE)().T(e,...t),n=r.Menu,o=r.MenuItem,s=new n;setTimeout((()=>{const n=document.getSelection().toString(),a=i.clipboard.readText();s.append(new o({label:t("Cut"),enabled:Boolean(n),click:()=>document.execCommand("cut")})),s.append(new o({label:t("Copy"),enabled:Boolean(n),click:()=>document.execCommand("copy")})),s.append(new o({label:t("Paste"),enabled:Boolean(a),click:()=>document.execCommand("paste")})),s.append(new o({type:"separator"})),s.append(new o({label:t("Select All"),enabled:Boolean(e),click:()=>document.execCommand("selectAll")})),s.popup({window:r.getCurrentWindow()})}),50)};async function v(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestIdleCallback(e)}))}))))}const _=(e,t)=>a.Z.test({width:e,height:t,sizes:[e,t]}),w=async(e,t,n=1)=>{if(_(e*n,t*n))return n;const i=await a.Z.maxWidth({usePromise:!0}),r=await a.Z.maxHeight({usePromise:!0}),o=await a.Z.maxArea({usePromise:!0}),s=i.width,l=r.height,c=o.width*o.height;let u=n;if(e*n>s){const t=s/e;u=Math.min(u,t)}if(t*n>l){const e=l/t;u=Math.min(u,e)}if(e*n*t*n>c){const n=Math.sqrt(c/(e*t));u=Math.min(u,n)}return u}},24034:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var i=n(2954);n(92636),n(54856),n(16704),n(92870),n(18446),n(90435);function r(e,t,n=!1){(0,i.iH)({});let r=()=>{};return{updateTouchBarItems:r}}},21292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i,r=n(2954),o=n(92870),s=n(69931);!function(e){e.NO_RESULT="NO_RESULT",e.NO_NOTE="NO_NOTE",e.NO_TAG="NO_TAG",e.NO_SELECTION="NO_SELECTION",e.NO_FORMAT_AVAILABLE="NO_FORMAT_AVAILABLE",e.SLIDE_NO_SELECTION="SLIDE_NO_SELECTION",e.BULB="BULB"}(i||(i={}));const a=(0,r.aZ)({__name:"common-none-panel",props:{type:{default:"NO_RESULT"},sectionStyle:{default:""}},setup(e){const t=e,n=(e,...t)=>(0,o.JE)().T(e,...t),a=(0,r.Fl)((()=>({[i.NO_RESULT]:{image:(0,s.ju)("static/images/empty-panel-icon/no-result.svg"),text:n("No results found."),spacing:"-1px"},[i.NO_NOTE]:{image:(0,s.ju)("static/images/empty-panel-icon/no-note.svg"),text:n("No note exists."),spacing:"-3px"},[i.NO_TAG]:{image:(0,s.ju)("static/images/empty-panel-icon/no-tag.svg"),text:n("No marker, label or task exists."),spacing:"0px"},[i.NO_SELECTION]:{image:(0,s.ju)("static/images/empty-panel-icon/empty-selection.svg"),text:n("Select an object to format."),spacing:"-2px"},[i.NO_FORMAT_AVAILABLE]:{image:(0,s.ju)("static/images/empty-panel-icon/no-format-available.svg"),text:n("This object can't be formatted."),spacing:"5px"},[i.SLIDE_NO_SELECTION]:{image:(0,s.ju)("static/images/empty-panel-icon/slide-empty-selection.svg"),text:n("Select a topic to format."),spacing:"-2px"},[i.BULB]:{image:(0,s.ju)("static/images/empty-panel-icon/zen-mode-bulb.svg"),text:n("Please switch to original appearance to enable format options."),spacing:"5px"}}))),l=(0,r.Fl)((()=>a.value[t.type]||a.value[i.NO_RESULT]));return{__sfc:!0,NonePanelType:i,props:t,$T:n,noneTabs:a,noneTab:l}}});const l=(0,n(51900).Z)(a,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"uk-panel uk-height-expand uk-flex uk-flex-column uk-flex-center uk-width-1-1 uk-common-none-panel"},[t("div",{staticClass:"uk-panel",style:e.sectionStyle},[t("div",{staticClass:"uk-common-none-panel-icon"},[t("img",{staticStyle:{height:"60px",width:"60px"},attrs:{draggable:"false",src:n.noneTab.image,"uk-svg":""}})]),e._v(" "),t("div",{staticClass:"uk-common-none-panel-text",style:{marginTop:n.noneTab.spacing}},[e._v("\n      "+e._s(n.noneTab.text)+"\n    ")])])])}),[],!1,null,"4aba417a",null).exports},42855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(2954),r=n(95246),o=n(92870),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const a=(0,i.aZ)({__name:"index",props:{items:{default:()=>[]},type:{default:"checkbox"},modelValue:{default:()=>[]},indent:{default:0},prefix:{default:""},index:null,striped:{type:Boolean,default:!1},container:null,highPerformanceMode:{type:Boolean,default:!1},width:{default:240},textWrap:{type:Boolean,default:!1},allowDirectionKey:{type:Boolean,default:!1}},emits:["click","update:modelValue","toggleitem"],setup(e,{expose:t,emit:n}){const a=e,{T:l}=(0,o.JE)(),c=(0,r.RS)(),u=e=>c(e,'13px -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, Roboto, "Helvetica Neue", Arial, sans-serif'),d=(0,i.iH)({}),h=(0,i.iH)(new Set),p=(0,i.iH)({scrollTop:0,clientHeight:100});(0,i.YP)((()=>a.modelValue),((e,t)=>{null!=e&&e!==t&&(h.value=new Set(e))}));const f=e=>{const t=e.target;p.value={scrollTop:t.scrollTop,clientHeight:t.clientHeight}},m=(e=a.container)=>{e&&(p.value={scrollTop:e.scrollTop,clientHeight:e.clientHeight})};(0,i.YP)((()=>a.container),(e=>{e&&(e.addEventListener("scroll",f),m(e))}));const g=()=>{m()};(0,i.bv)((()=>{window.addEventListener("resize",g)})),(0,i.dl)((()=>{m()})),(0,i.Jd)((()=>{window.removeEventListener("resize",g),a.container&&a.container.removeEventListener("scroll",f)}));const y=(0,i.Fl)((()=>l("<Empty Text>"))),b=(0,i.Fl)((()=>{const{items:e,indent:t}=a;if(!e||!e.length)return[];const n="$ROOT_VALUE",i=[],r=(e,t,o=[])=>{const s=e.value===n,a=e.unindent?t:t+1;if(s||i.push({value:e.value,current:e,indent:a,parentValues:o.map((e=>e.value))}),e.items)for(let t=0;t<e.items.length;t++){const n=e.items[t],i=o.concat(s?[]:e);r(n,a,i)}};return r({items:e,value:n},t||-1),i.forEach((e=>{const t=16*e.indent+16,n=a.width-(t+16),i=u(e.current.text)+10;if(e.containerWidth=n,e.textWidth=i,e.singleLineWidth=t+16+i,a.textWrap){const t=Math.ceil(i/n);e.allocatedLine=t}else e.allocatedLine=1})),i})),v=(0,i.Fl)((()=>{const{value:e}=b,t=e=>x(e)&&w(e),n={},i={},r={};for(let t=0;t<e.length;t++){const i=e[t];n[i.value]=i}for(let o=0;o<e.length;o++){const s=e[o],a=s.parentValues.join(",");a in r?i[s.value]=r[a]:r[a]=i[s.value]=s.parentValues.every((e=>t(n[e].current)))}return i})),_=(0,i.Fl)((()=>{let e=b.value.filter((e=>!!v.value[e.value]));if(!a.highPerformanceMode)return{items:e,totalHeight:0};let t=0,n=0;return e.forEach((e=>{var i,r;e.currentTop=`${t}px`,e.currentTopNumber=t;const o=12+14.4*e.allocatedLine,s=[],l=e.textWidth/(null!==(r=null===(i=e.current.text)||void 0===i?void 0:i.length)&&void 0!==r?r:0),c=Math.floor(e.containerWidth/l);if(a.textWrap)for(let t=0;t<e.allocatedLine;t++)s.push(e.current.text.slice(t*c,(t+1)*c));else n=Math.max(e.singleLineWidth,n),s.push(e.current.text);e.textLines=s,1!==s.length||s[0]||(s[0]=y.value),t+=o})),e=e.filter((e=>!(e.currentTopNumber<p.value.scrollTop-100)&&!(e.currentTopNumber>p.value.scrollTop+p.value.clientHeight+100))),{items:e,totalHeight:t,commonWidth:n}})),w=e=>e.value in d.value?Boolean(d.value[e.value]):Boolean(e.expanded),x=e=>"items"in e&&Array.isArray(e.items)&&e.items.length>0,S=e=>h.value.has(e.value),k=e=>{n("click",e)},T=e=>{d.value=Object.assign(Object.assign({},d.value),{[e.value]:!w(e)}),n("toggleitem",e.value)},C=e=>s(this,void 0,void 0,(function*(){const t=new Set([e.value]);h.value=t,n("update:modelValue",Array.from(t)),k(e)})),R=(e,t)=>s(this,void 0,void 0,(function*(){t.preventDefault(),t.stopPropagation(),T(e),yield(0,i.Y3)(),t.currentTarget.parentNode.focus()})),O=e=>{if(!a.allowDirectionKey)return;const t=Array.from(h.value);let n=null;if(t.length){const i=_.value.items.findIndex((e=>e.value===t[0]));n=_.value.items[i+("up"===e?-1:1)]}else _.value.items.find((e=>!e.current.slotType));if(n&&!n.current.slotType){C(n.current);const e=document.querySelector(`button[data-value="${n.value}"]`);e&&e.focus()}};return t({emptyText:y,currentItems:b,visibleItems:v,displayData:_,isItemExpandable:x,isItemExpanded:w,isItemChecked:S,onToggleClick:R,onClickButton:C,onKeydown:O}),{__sfc:!0,$T:l,getTextWidthFn:c,getTextWidth:u,props:a,emit:n,itemExpansions:d,internalValue:h,scrollInfo:p,containerScrollEventHandler:f,updateScrollInfoByPropsContainer:m,windowResizeHandler:g,emptyText:y,currentItems:b,visibleItems:v,displayData:_,isItemExpanded:w,isItemExpandable:x,isItemChecked:S,emitClick:k,toggleItem:T,onClickButton:C,onToggleClick:R,onKeydown:O}}});const l=(0,n(51900).Z)(a,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ul",{staticClass:"uk-tree-list",class:{"uk-list-striped":e.striped,"uk-tree-list-solid-background":e.striped},staticStyle:{position:"relative"},style:{height:e.highPerformanceMode?`${n.displayData.totalHeight}px`:"auto","flex-shrink":0},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:n.onKeydown("up")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:n.onKeydown("down")}]}},e._l(n.displayData.items,(function(i){return t("li",{key:i.value,class:{"uk-checked":n.isItemChecked(i.current)},staticStyle:{"min-width":"100%","word-break":"break-all"},style:e.highPerformanceMode?{position:"absolute",top:i.currentTop,width:e.textWrap?"100%":`${n.displayData.commonWidth}px`}:{width:"100%"}},[e._t(i.current.slotType,(function(){return[t("button",{staticClass:"uk-tree-list-item",class:{"uk-checked":n.isItemChecked(i.current),"uk-focus":n.isItemChecked(i.current)},style:{"padding-left":16*i.indent+16+"px"},attrs:{type:"button","data-value":i.value},on:{click:function(e){return n.onClickButton(i.current)}}},[e.highPerformanceMode?e._l(i.textLines,(function(n,i){return t("p",{key:i,staticClass:"uk-text-nowrap uk-margin-remove"},[e._v("\n            "+e._s(n)+"\n          ")])})):[e._v("\n          "+e._s(i.current.text||n.emptyText)+"\n        ")]],2)]}),{data:i.current,checked:n.isItemChecked(i.current),index:e.index,offset:16*i.indent+16,onClick:()=>n.onClickButton(i.current)}),e._v(" "),n.isItemExpandable(i.current)?t("a",{staticClass:"uk-tree-list-toggle uk-icon uk-button uk-tree-list-toggle-icon uk-button-icon",style:{left:16*i.indent+"px",opacity:"number"==typeof i.current.triangleOpacity?i.current.triangleOpacity:.5},attrs:{href:"javascript: void 0;",tabindex:"-1","uk-icon":n.isItemExpanded(i.current)?"triangle-down":"triangle-right"},on:{click:function(e){return n.onToggleClick(i.current,e)}}}):e._e()],2)})),0)}),[],!1,null,null,null).exports},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},83556:(e,t,n)=>{"use strict";n.d(t,{ER:()=>c,EW:()=>l,WX:()=>a,Zf:()=>s,s_:()=>r,yo:()=>o});var i=n(6550);function r(){return new i.t3}function o(){return new i.eN}function s(){return new i.GO}function a(){return new i.XZ}function l(){return new i.r3}function c(){return new i.gn}},6550:(e,t,n)=>{"use strict";n.d(t,{GO:()=>u,XZ:()=>d,eN:()=>c,gn:()=>p,r3:()=>h,t3:()=>l});var i=n(71381),r=n(46924),o=n(65893),s=n(82521),a=n(87494);class l{constructor(){this._patch={metadata:{[i.K.DataStructureVersion]:a.iO}}}metadataFor(e,t){return this._patch.metadata={...this._patch.metadata,[e]:t},this}sheets(e){return this._patch.sheets=(Array.isArray(e)?e:e.sheets??[]).map((e=>(0,o.xp)(e,c).patch)),this}build(){return new r.sv((0,o.vA)(this._patch))}Sheet(){return new c}Topic(){return new u}Relationship(){return new d}Boundary(){return new h}Summary(){return new p}Callout(){return new u}}class c{constructor(e){this._patch={...e,id:e?.id??(0,o.Vj)(),rootTopic:e?.rootTopic??(new u).patch}}get id(){return this._patch.id}get patch(){return this._patch}rootTopic(e){return this._patch.rootTopic=(0,o.xp)(e,u).patch,this}relationships(e){return this._patch.relationships=e.map((e=>(0,o.xp)(e,d).patch)),this}attrs(e){return Object.assign(this._patch,(0,s.zO)(e)),this}extensionBy(e,t){return this._patch.extensions||(this._patch.extensions={}),this._patch.extensions[e]=(0,s.zO)(t),this}markerDescriptionFor(e,t){return this._patch.legendMarkers||(this._patch.legendMarkers={}),Object.assign(this._patch.legendMarkers,{[e]:t}),this}styleFor(e,t){return this._patch.themeStyles={...this._patch.themeStyles,[e]:t?{...t}:null},this}Topic(){return new u}Relationship(){return new d}Boundary(){return new h}Summary(){return new p}Callout(){return new u}}class u{constructor(e){e&&"topic"in e?(this._patch=(0,o.yR)(e.topic),this._ownerSummaryPatch=e):this._patch={...e,id:e?.id??(0,o.Vj)()}}get id(){return this._patch.id}get patch(){return this._patch}extensionBy(e,t){return this._patch.extensions||(this._patch.extensions={}),this._patch.extensions[e]=(0,s.zO)(t),this}attrs(e){return Object.assign(this._patch,(0,s.zO)(e)),this}children(e){return this._patch.children=(Array.isArray(e)?e:e.topics??[]).map((e=>(0,o.xp)(e,u).patch)),this._patch.childrenAssociations=Array.isArray(e)?{boundaries:[],summaries:[],relationships:[]}:{boundaries:(e.boundaries??[]).map((e=>(0,o.xp)(e,h).patch)),summaries:(e.summaries??[]).map((e=>(0,o.xp)(e,p).patch)),relationships:(e.relationships??[]).map((e=>(0,o.xp)(e,d).patch))},this}detachedChildren(e){return this._patch.detachedChildren=(Array.isArray(e)?e:e.topics??[]).map((e=>(0,o.xp)(e,u).patch)),this._patch.detachedChildrenAssociations=Array.isArray(e)?{boundaries:[],summaries:[],relationships:[]}:{boundaries:(e.boundaries??[]).map((e=>(0,o.xp)(e,h).patch)),summaries:(e.summaries??[]).map((e=>(0,o.xp)(e,p).patch)),relationships:(e.relationships??[]).map((e=>(0,o.xp)(e,d).patch))},this}callout(e){return this._patch.callout=(0,o.xp)(e,u).patch,this}boundaries(e){return this._patch.boundaries=e.map((e=>(0,o.xp)(e,h).patch)),this}summaries(e){return this._patch.summaries=e.map((e=>(0,o.xp)(e,p).patch)),this}asSummary(){return new p(this._ownerSummaryPatch??{topic:this._patch})}}class d{constructor(e){this._patch={...e,id:e?.id??(0,o.Vj)()}}get id(){return this._patch.id}get patch(){return this._patch}target(e){return this._patch.target=e,this}source(e){return this._patch.source=e,this}attrs(e){return Object.assign(this._patch,(0,s.zO)(e)),this}}class h{constructor(e){this._patch={...e,id:e?.id??(0,o.Vj)()}}get id(){return this._patch.id}get patch(){return this._patch}rangeStart(e){return this._patch.rangeStart=e,this}rangeEnd(e){return this._patch.rangeEnd=e,this}rangeType(e){return this._patch.rangeType=e,this}attrs(e){return Object.assign(this._patch,(0,s.zO)(e)),this}}class p{constructor(e){this._patch={...e,id:e?.id??(0,o.Vj)(),topic:e?.topic??(new u).patch}}get id(){return this._patch.id}get patch(){return this._patch}topic(e){return this._patch.topic=(0,o.xp)(e,u).patch,this}rangeStart(e){return this._patch.rangeStart=e,this}rangeEnd(e){return this._patch.rangeEnd=e,this}asTopic(){return new u(this._patch)}attrs(e){return Object.assign(this._patch,(0,s.zO)(e)),this}}},82521:(e,t,n)=>{"use strict";n.d(t,{gm:()=>x,Eu:()=>w,M1:()=>S,Mv:()=>d,y0:()=>v,ZT:()=>f,WV:()=>_,tL:()=>m,Wx:()=>h,x6:()=>g,zV:()=>T,NW:()=>k,Mz:()=>C,E9:()=>y,Gf:()=>p,Bg:()=>b,zO:()=>R});var i=n(6550),r=n(46924),o=n(65893),s=n(71381),a=n(84304);function l(e,t,n){const{elements:i,indexSet:r}=e,{idRefs:l,parentTopics:c,ownerSheets:u,topicTypes:d}=r,h=c[t];if(!h)return null;const{parent:p,as:f}=n,m=p?(0,o.IP)(p,l):c[t];if(!m||u[m]!==u[t])return null;const g=(0,a.Ob)(i[m]);if(!g||"callout"===d[m])return null;const y=function(e,t){const{parentTopics:n,topicTypes:i}=e.indexSet,r=[];let o=t;for(;o;)if(r.push(o),i[o]!==s.o.Summary)o=n[o];else{const t=(0,a.hg)(e,o);o=n[o],t&&"number"==typeof t.rangeStart&&"number"==typeof t.rangeEnd&&o&&r.push(...(0,a.Ob)(e.elements[o])?.children?.slice(t.rangeStart,t.rangeEnd+1)??[])}return r}(e,m);if(y.includes(t))return null;const b=f??"children",v=g[b]?.filter((e=>e!==t))??[],_=(0,o.wb)(n,v,l);if(_<0)return null;const w=d[t],x="attached"===w?"children":"detached"===w?"detachedChildren":null;if(!x)return null;const S=function(e,t,n){const i=(0,o.yR)((0,a.Ob)(e.elements[t])),r=(i.children??[]).indexOf(n);return r<0?[]:(i.summaries??[]).map((t=>{const n=(0,a.hg)(e,t);return n?.rangeStart===r&&n.rangeEnd===r?t:null})).filter((e=>!!e))}(e,h,t),k=function(e,t,n){const i=e.indexSet.topicTypes[n];if(!i)return[];if("detached"===i){return((0,o.yR)((0,a.Ob)(e.elements[n])).boundaries??[]).map((t=>{const n=(0,a.j4)(e.elements[t]);if(0===n?.rangeStart&&0===n.rangeEnd&&"children"!==n.rangeType)return t})).filter((e=>!!e))}if("attached"===i){const i=(0,o.yR)((0,a.Ob)(e.elements[t])),r=(i.children??[]).indexOf(n);return r<0?[]:(i.boundaries??[]).map((t=>{const n=(0,a.j4)(e.elements[t]);return"children"===n?.rangeType&&n.rangeStart===r&&n.rangeEnd===r&&n.rangeStart>=0?t:null})).filter((e=>!!e))}return[]}(e,h,t),T={oldParentId:h,newParentId:m,newIndex:_,oldKey:x,newKey:b,takeAwayBoundaries:k};return"children"===x&&"detachedChildren"===b?{...T,discardedSummaries:S}:{...T,takeAwaySummaries:S}}function c(e,t,n){const{oldParentId:i,newParentId:r,newIndex:l,oldKey:c,newKey:d,takeAwaySummaries:h,takeAwayBoundaries:p}=n,f=(0,o.yR)((0,a.Ob)(e.elements[i]));(0,o.yN)(e,f,t,"boundaries",!0),(0,o.yN)(e,f,t,"summaries",!0),(0,o.Lj)(f,c,f[c]?.filter((e=>e!==t))),(0,o.Lj)(f,"summaries",f.summaries?.filter((e=>!h?.includes(e)))??[]),(0,o.Lj)(f,"boundaries",f.boundaries?.filter((e=>!p?.includes(e)))??[]);const m=(0,o.yR)((0,a.Ob)(e.elements[t]));(0,o.Lj)(m,"boundaries",m.boundaries?.filter((e=>!p?.includes(e)))??[]);const g=(0,o.yR)((0,a.Ob)(e.elements[r])),y=[...g[d]??[]];y.splice(l,0,t),g[d]=y,"children"===d?((0,o.QR)(e,g,"boundaries","at",l),(0,o.QR)(e,g,"summaries","at",l),h&&function(e,t,n,i){(0,o.Lj)(t,"summaries",[...t.summaries??[],...(n??[]).map((n=>{const r=(0,a.hg)(e,n);return r?(r.rangeStart=i,r.rangeEnd=i,e.indexSet.parentTopics[n]=t.id,e.indexSet.parentTopics[r.id]=t.id,n):null})).filter((e=>!!e))])}(e,g,h,l),p&&u(e,g,p,l,"children")):p&&u(e,(0,o.yR)((0,a.Ob)(e.elements[t])),p,0,"parent"),e.indexSet.parentTopics[t]=r,e.indexSet.topicTypes[t]="children"===d?s.o.Attached:s.o.Detached}function u(e,t,n,i,r){(0,o.Lj)(t,"boundaries",[...t.boundaries??[],...(n??[]).map((n=>{const o=(0,a.j4)(e.elements[n]);return o?(o.rangeType=r,o.rangeStart=i,o.rangeEnd=i,e.indexSet.parentTopics[n]=t.id,n):null})).filter((e=>!!e))])}class d{constructor(e){this._patch={},this._repo=e}metadataFor(e,t){return this._patch.metadata={...this._patch.metadata,[e]:t},this}addSheets(e,t){return this._patch.additionalSheets=[...this._patch.additionalSheets??[],{sheets:(Array.isArray(e)?e:e.sheets??[]).map((e=>(0,o.xp)(e,i.eN).patch)),options:t}],this}commit(){return new r.sv((0,o.Tz)(this._repo,this._patch))}Sheet(){return new i.eN}Topic(){return new i.GO}Relationship(){return new i.XZ}Boundary(){return new i.r3}Summary(){return new i.gn}Callout(){return new i.GO}}class h{constructor(e,t){this._patch={id:e},this._repo=t}get id(){return this._patch.id}rootTopic(e){return this._patch.rootTopic=(0,o.xp)(e,i.GO).patch,this}addRelationships(e,t){return this._patch.additionalRelationships=[...this._patch.additionalRelationships??[],{relationships:e.map((e=>(0,o.xp)(e,i.XZ).patch)),options:t}],this}attrs(e){return Object.assign(this._patch,R(e)),this}extensionBy(e,t){return this._patch.extensions||(this._patch.extensions={}),this._patch.extensions[e]=t?R(t):null,this}markerDescriptionFor(e,t){return this._patch.legendMarkers||(this._patch.legendMarkers={}),Object.assign(this._patch.legendMarkers,{[e]:t}),this}styleFor(e,t){return this._patch.themeStyles={...this._patch.themeStyles,[e]:t?{...t}:null},this}commit(){return(0,o.yR)(new r.sv((0,o.gA)(this._repo,this._patch)).query({id:this.id})?.asSheet())}Topic(){return new i.GO}Relationship(){return new i.XZ}Boundary(){return new i.r3}Summary(){return new i.gn}Callout(){return new i.GO}}class p{constructor(e,t){this._patch={id:e},this._repo=t}get id(){return this._patch.id}extensionBy(e,t){return this._patch.extensions||(this._patch.extensions={}),this._patch.extensions[e]=t?R(t):null,this}attrs(e){return Object.assign(this._patch,R(e)),this}addChildren(e,t){return this._patch.additionalChildren=[...this._patch.additionalChildren??[],Array.isArray(e)?{topics:e.map((e=>(0,o.xp)(e,i.GO).patch)),options:t}:{topics:(e.topics??[]).map((e=>(0,o.xp)(e,i.GO).patch))??[],boundaries:(e.boundaries??[]).map((e=>(0,o.xp)(e,i.r3).patch)),summaries:(e.summaries??[]).map((e=>(0,o.xp)(e,i.gn).patch)),relationships:(e.relationships??[]).map((e=>(0,o.xp)(e,i.XZ).patch)),options:t}],this}addDetachedChildren(e,t){return this._patch.additionalDetachedChildren=[...this._patch.additionalDetachedChildren??[],Array.isArray(e)?{topics:e.map((e=>(0,o.xp)(e,i.GO).patch)),options:t}:{topics:(e.topics??[]).map((e=>(0,o.xp)(e,i.GO).patch)),boundaries:(e.boundaries??[]).map((e=>(0,o.xp)(e,i.r3).patch)),summaries:(e.summaries??[]).map((e=>(0,o.xp)(e,i.gn).patch)),relationships:(e.relationships??[]).map((e=>(0,o.xp)(e,i.XZ).patch)),options:t}],this}addBoundaries(e){return this._patch.additionalBoundaries=[...this._patch.additionalBoundaries??[],...e.map((e=>(0,o.xp)(e,i.r3).patch))],this}addSummaries(e){return this._patch.additionalSummaries=[...this._patch.additionalSummaries??[],...e.map((e=>(0,o.xp)(e,i.gn).patch))],this}callout(e){return this._patch.callout=(0,o.xp)(e,i.GO).patch,this}commit(){return(0,o.yR)(new r.sv((0,o.ym)(this._repo,this._patch)).query({id:this.id})?.asTopic())}}class f{constructor(e,t){this._patch={id:e},this._repo=t}get id(){return this._patch.id}attrs(e){return Object.assign(this._patch,R(e)),this}commit(){return(0,o.yR)(new r.sv((0,o.bT)(this._repo,this._patch)).query({id:this.id})?.asRelationship())}}class m{static make(e,t,n){const i=(0,o.u5)(e,t,n);return i?new m(e,t,i.newIndex):null}constructor(e,t,n){this._repo=e,this._id=t,this._newIndex=n}move(){const e=(0,o.s6)(this._repo,(e=>{(0,o.j1)(e,this._id,this._newIndex)}));return(0,o.yR)(new r.sv(e).query({id:this._id})?.asSheet())}}class g{static make(e,t){return e.sheets.length>1?new g(e,t):null}constructor(e,t){this._repo=e,this._id=t}remove(){return new r.sv((0,o.s6)(this._repo,(e=>{(0,o.Pu)(e,this._id)})))}}class y{static make(e,t,n){const i=l(e,t,n);return i?new y(e,t,i):null}constructor(e,t,n){this._repo=e,this._id=t,this._info=n}move(){const e=(0,o.s6)(this._repo,((e,t,n)=>{c(e,this._id,this._info),n((0,o.az)(e,this._id))}));return(0,o.yR)(new r.sv(e).query({id:this._id})?.asTopic())}}class b{static make(e,t){const n=e.indexSet.parentTopics[t];return n?new b(e,t,n):null}constructor(e,t,n){this._repo=e,this._id=t,this._parentTopicId=n}remove(){const e=(0,o.s6)(this._repo,((e,t,n)=>{const i=(0,o.az)(e,this._id);(0,o.qb)(e,this._id,this._parentTopicId),n(i)}));return(0,o.yR)(new r.sv(e).query({id:this._parentTopicId})?.asTopic())}}class v{static make(e,t,n){const i=(0,o.Ie)(e,t,n);return i?new v(e,t,i):null}constructor(e,t,n){this._repo=e,this._id=t,this._info=n}move(){const e=(0,o.s6)(this._repo,((e,t,n)=>{(0,o.RQ)(e,this._id,this._info),n((0,o.az)(e,this._id))}));return(0,o.yR)(new r.sv(e).query({id:this._id})?.asRelationship())}}class _{static remove(e,t){const n=(0,o.az)(e,t),i=(0,o.s6)(e,((e,i,r)=>{(0,o.sE)(e,t),r(n)}));return(0,o.yR)(new r.sv(i).query({id:n})?.asSheet())}}class w{constructor(e,t){this._patch={id:t},this._repo=e}get id(){return this._patch.id}attrs(e){return Object.assign(this._patch,R(e)),this}commit(){return(0,o.yR)(new r.sv((0,o.A_)(this._repo,this._patch)).query({id:this.id})?.asBoundary())}}class x{static make(e,t,n){const i=(0,o.Py)(e,t,n);return i?new x(e,t,i):null}constructor(e,t,n){this._repo=e,this._id=t,this._info=n}move(){const e=(0,o.s6)(this._repo,((e,t,n)=>{(0,o.VR)(e,this._id,this._info),n((0,o.az)(e,this._id))}));return(0,o.yR)(new r.sv(e).query({id:this._id})?.asBoundary())}}class S{static remove(e,t){const n=(0,o.az)(e,t),i=(0,o.yR)(e.indexSet.parentTopics[t]),s=(0,o.s6)(e,((e,i,r)=>{(0,o.bJ)(e,t),r(n)}));return(0,o.yR)(new r.sv(s).query({id:i})?.asTopic())}}class k{constructor(e,t){this._summaryTopicId=t,this._patch={id:(0,o.yR)(e.indexSet.ownerSummaries[t])},this._repo=e}get id(){return this._summaryTopicId}attrs(e){return Object.assign(this._patch,R(e)),this}commit(){return(0,o.yR)(new r.sv((0,o.cf)(this._repo,this._patch)).query({id:this.id})?.asSummary())}}class T{static make(e,t,n){const i=(0,o.H8)(e,t,n);return i?new T(e,t,i):null}constructor(e,t,n){this._repo=e,this._summaryTopicId=t,this._info=n}move(){const e=(0,o.s6)(this._repo,((e,t,n)=>{(0,o.O6)(e,this._summaryTopicId,this._info),n((0,o.az)(e,this._summaryTopicId))}));return(0,o.yR)(new r.sv(e).query({id:this._summaryTopicId})?.asSummary())}}class C{static remove(e,t){const n=(0,o.az)(e,t),i=(0,o.yR)(e.indexSet.parentTopics[t]),s=(0,o.s6)(e,((e,i,r)=>{(0,o.ST)(e,t),r(n)}));return(0,o.yR)(new r.sv(s).query({id:i})?.asTopic())}}function R(e){return JSON.parse(JSON.stringify(e))}},65893:(e,t,n)=>{"use strict";n.d(t,{_N:()=>q,Zb:()=>F,Zq:()=>C,fx:()=>Z,ik:()=>D,xp:()=>oe,yR:()=>ie,Lj:()=>Y,wb:()=>ne,vA:()=>w,Py:()=>H,IP:()=>ee,az:()=>ue,Ie:()=>N,u5:()=>O,H8:()=>K,f:()=>ce,fM:()=>te,hj:()=>se,VR:()=>$,RQ:()=>B,j1:()=>I,O6:()=>X,A_:()=>z,Tz:()=>x,bT:()=>W,s6:()=>_,gA:()=>k,cf:()=>J,ym:()=>E,bJ:()=>V,sE:()=>A,Pu:()=>T,ST:()=>U,vJ:()=>L,qb:()=>j,QR:()=>P,yN:()=>M,Vj:()=>re,Qy:()=>le});var i=n(71381);function r(e,t,n){const{sheets:i,options:r}=t;te(i.map((t=>C(e,t,n))),e.sheets,e.indexSet.idRefs,r)}function o(e,t,n,i,r){if(n.length<1)return;const o=ce(le(n),i);o.length<1||(t.boundaries=[...t.boundaries??[],...o.map((t=>q(e,t,r)))])}var s=n(84304);function a(e,t,n){if(t.length<1)return;const i=ie((0,s.vB)(e.elements[n.ownerSheetId]));i.relationships=[...i.relationships??[],...t.map((t=>F(e,t,n)))]}function l(e,t,n,i,r){if(n.length<1)return;const o=ce(le(n),i);o.length<1||(t.summaries=[...t.summaries??[],...o.map((t=>Z(e,t,r)))])}function c(e,t,n,r){const{topics:s,options:c,boundaries:d=[],summaries:h=[],relationships:p=[]}=n;if(s.length<=0)return;const f=t.children??[],m=u(c,f,e.indexSet.idRefs),g=s.map((t=>D(e,t,i.o.Attached,r)));if(t.children=[...f.slice(0,m),...g,...f.slice(m)],c){const n="at"in c?"at":"before"in c?"before":"after",i=g.length;P(e,t,"boundaries",n,m,i),P(e,t,"summaries",n,m,i)}o(e,t,d,m,r),l(e,t,h,m,r),a(e,p,r)}function u(e,t,n){const i=ne(e,t,n);return i<0?t.length:i}function d(e,t,n,r){n.forEach(((n,o)=>{const s=function(e,t){const n=t.find((t=>t.rangeStart===e&&t.rangeEnd===e));if(!n)return null;return{...n,rangeType:"parent",rangeStart:0,rangeEnd:0}}(o,t);s&&D(e,{id:n,additionalBoundaries:[s]},i.o.Detached,r)}))}function h(e,t,n,r){const{topics:o,options:s,boundaries:l=[],relationships:c=[]}=n;if(o.length<=0)return;const h=t.detachedChildren??[],p=u(s,h,e.indexSet.idRefs),f=o.map((t=>D(e,t,i.o.Detached,r)));t.detachedChildren=[...h.slice(0,p),...f,...h.slice(p)],d(e,l,f,r),a(e,c,r)}function p(e,t){let n=e;return t(f(e,(()=>n),(e=>{n=e}))),n}function f(e,t,n){return new Proxy(e??t(),{get(i,r){if(r===b)return t();const o=r,s=m(t(),o);return null===s||"object"!=typeof s?s:f(m(e,o),(()=>m(t(),o)),(i=>n(g(t(),o,i,e))))},set:(i,r,o)=>(n(g(t(),r,v(o),e)),!0),deleteProperty:(i,r)=>(n(function(e,t,n){if(!e||!(t in e))return e;return e=y(e,n),delete e[t],e}(t(),r,e)),!0),has:(e,n)=>Reflect.has(t(),n),ownKeys:()=>Reflect.ownKeys(t()),getOwnPropertyDescriptor:(e,n)=>Reflect.getOwnPropertyDescriptor(t(),n)})}function m(e,t){return(e??{})[t]}function g(e,t,n,i){return n===m(e,t)||((e=y(e,i))[t]=n),e}function y(e,t){return e===t?Array.isArray(e)?[...e]:{...e}:e}const b=Symbol("realValue");function v(e){if(null==e)return e;if("object"!=typeof(e=e[b]??e)||null===e)return e;const t=e;let n=t;for(const e in t){const i=t[e],r=v(i);r!==i&&(n=y(n,t),n[e]=r)}return n}function _(e,t){const n=new Set,i=e=>n.add(e),r=p(e,(e=>{const n=new G;t(e,n,i),n.resolve(e),function(e,t){for(const n of e.sheets)for(const i of[...ie((0,s.vB)(e.elements[n])).relationships??[]]){const{id:r,sourceId:o,targetId:a}=ie((0,s.$D)(e.elements[i]));o&&a||(o&&Q(e.indexSet.outgoingRelationships,o,r),a&&Q(e.indexSet.incomingRelationships,a,r),A(e,r),t(n))}}(e,i)}));return e===r?e:p(r,(e=>(n.forEach((t=>ie((0,s.vB)(e.elements[t])).revisionId=re())),e)))}function w(e){return _((0,s.E4)(),((t,n)=>{S(t,e,{refResolver:n})}))}function x(e,t){return _(e,((e,n)=>{S(e,t,{refResolver:n})}))}function S(e,t,n){const{metadata:i,sheets:o,additionalSheets:s}=t;if(void 0!==i&&function(e,t){for(const[n,i]of Object.entries(t))i?e.metadata[n]=i:delete e.metadata[n]}(e,i),void 0!==o&&function(e,t,n){for(const t of[...e.sheets])T(e,t);e.sheets=t.map((t=>C(e,t,n)))}(e,o,n),void 0!==s)for(const t of s)r(e,t,n)}function k(e,t){return _(e,((e,n,i)=>{C(e,t,{refResolver:n}),i(t.id)}))}function T(e,t){const n=e.elements[t];if(!n||"sheet"!==n.type)return;const{ref:i,rootTopicId:r,relationships:o}=n;o?.forEach((t=>A(e,t))),r&&L(e,r),i&&delete e.indexSet.idRefs[i],delete e.elements[t],e.sheets=e.sheets.filter((e=>e!==t))}function C(e,t,n){const{id:r,ref:o,classes:a,title:l,rootTopic:c,relationships:u,additionalRelationships:d,topicOverlapping:h,topicPositioning:p,floatingTopicFlexibility:f,cjkFontFamily:m,lineTapered:g,themeStyles:y,fillColor:b,multiLineColors:v,colorList:_,legendVisibility:w,legendPosition:x,legendMarkers:S,skeletonThemeId:k,colorThemeId:T,compactLayoutLevel:C}=t,O=re();e.elements[r]||(e.elements[r]={id:r,type:"sheet",revisionId:O});const I=ie((0,s.vB)(e.elements[r]));if(Y(I,"revisionId",O),void 0!==o){const t=I.ref;t!==o&&(Y(I,"ref",o),t&&delete e.indexSet.idRefs[t],o&&(e.indexSet.idRefs[o]=r))}void 0!==l&&Y(I,"title",l),void 0!==a&&Y(I,"classes",a.length>0?[...a]:null);const E={...n,ownerSheetId:r};if(void 0!==c){const t=I.rootTopicId;t&&L(e,t),Y(I,"rootTopicId",D(e,c,i.o.Root,E))}if(void 0!==u&&(I.relationships?.forEach((t=>A(e,t))),Y(I,"relationships",u.map((t=>F(e,t,E))))),void 0!==d&&Y(I,"relationships",d.reduce(((t,{relationships:n,options:i})=>(te(n.map((t=>F(e,t,E))),t,e.indexSet.idRefs,i),t)),[...I.relationships??[]])),void 0!==h&&Y(I,"topicOverlapping",h),void 0!==p&&Y(I,"topicPositioning",p),void 0!==f&&Y(I,"floatingTopicFlexibility",f),void 0!==C&&Y(I,"compactLayoutLevel",C),void 0!==m&&Y(I,"cjkFontFamily",m),void 0!==g&&Y(I,"lineTapered","tapered"===g||"none"===g?g:null),void 0!==b&&Y(I,"fillColor",b),void 0!==v&&Y(I,"multiLineColors",v),void 0!==_&&Y(I,"colorList",_),void 0!==w&&Y(I,"legendVisibility",w),void 0!==x&&Y(I,"legendPosition",x),void 0!==S&&Y(I,"legendMarkers",S?{...I.legendMarkers,...S}:null),void 0!==k&&Y(I,"skeletonThemeId",k),void 0!==T&&Y(I,"colorThemeId",T),void 0!==t.extensions){const e={...I.extensions};for(const n in t.extensions){const i=t.extensions[n];i&&(i.content||i.resources)?e[n]={content:i.content??null,resources:i.resources??[]}:delete e[n]}Y(I,"extensions",e)}if(void 0!==y){const e=I.themeStyles??{};for(const t in y)Y(e,t,R(y[t]));Y(I,"themeStyles",e)}return r}function R(e){return null==e?null:Object.keys(e).reduce(((t,n)=>{const i=n,r=e[i];return null!=r&&(t[i]=r),t}),{})}function O(e,t,n){const i=ne(n,e.sheets.filter((e=>e!==t)),e.indexSet.idRefs);return i>=0?{newIndex:i}:null}function I(e,t,n){const i=e.sheets.filter((e=>e!==t));i.splice(n,0,t),e.sheets=i}function A(e,t){const n=ie(e.indexSet.ownerSheets[t]),i=ie((0,s.vB)(e.elements[n])),r=(i.relationships??[]).filter((e=>e!==t));r.length>0?i.relationships=r:delete i.relationships,delete e.indexSet.ownerSheets[t];const o=ie((0,s.$D)(e.elements[t])),{ref:a,sourceId:l,targetId:c}=o;a&&delete e.indexSet.idRefs[a],l&&Q(e.indexSet.outgoingRelationships,l,t),c&&Q(e.indexSet.incomingRelationships,c,t),delete e.elements[t]}function E(e,t){return _(e,((n,i,r)=>{const o=ue(n,t.id);D(n,t,e.indexSet.topicTypes[t.id],{refResolver:i,ownerSheetId:o}),r(o)}))}function D(e,t,n,r){const{id:u,ref:p,children:f,childrenAssociations:m,detachedChildren:g,detachedChildrenAssociations:y,callout:b,boundaries:v}=t;e.elements[u]||(e.elements[u]={id:u,type:"topic"});const _=ie((0,s.Ob)(e.elements[u])),{ownerSheetId:w,parentTopicId:x,ownerSummaryId:S}=r;if(void 0!==w&&(e.indexSet.ownerSheets[u]=w),void 0!==x&&(e.indexSet.parentTopics[u]=x),void 0!==S&&(e.indexSet.ownerSummaries[u]=S),e.indexSet.topicTypes[u]=n,void 0!==t.classes&&Y(_,"classes",t.classes.length>0?[...t.classes]:null),void 0!==t.title&&Y(_,"title",t.title),void 0!==t.titleUnedited&&Y(_,"titleUnedited",t.titleUnedited),void 0!==t.attributedTitle&&Y(_,"attributedTitle",t.attributedTitle),void 0!==t.notes&&Y(_,"notes",t.notes?{html:null,text:null,...t.notes}:null),void 0!==t.labels&&Y(_,"labels",t.labels),void 0!==t.href&&Y(_,"href",t.href),void 0!==t.position&&Y(_,"position",t.position),void 0!==t.markers&&Y(_,"markers",[...new Set(t.markers??[])]),void 0!==t.structureClass&&Y(_,"structureClass",t.structureClass),void 0!==t.branchState&&Y(_,"branchState",t.branchState),void 0!==t.imageSource&&Y(_,"imageSource",t.imageSource),void 0!==t.imageWidth&&Y(_,"imageWidth",t.imageWidth),void 0!==t.imageHeight&&Y(_,"imageHeight",t.imageHeight),void 0!==t.imagePlacement&&Y(_,"imagePlacement",t.imagePlacement),void 0!==t.imageLockRatio&&Y(_,"imageLockRatio",t.imageLockRatio),void 0!==t.imageBorderLineColor&&Y(_,"imageBorderLineColor",t.imageBorderLineColor),void 0!==t.imageBorderLineWidth&&Y(_,"imageBorderLineWidth",t.imageBorderLineWidth),void 0!==t.imageShadowVisible&&Y(_,"imageShadowVisible",t.imageShadowVisible),void 0!==t.imageOpacity&&Y(_,"imageOpacity",t.imageOpacity),void 0!==t.imageIsMathJaxImage&&Y(_,"imageIsMathJaxImage",t.imageIsMathJaxImage),void 0!==t.customWidth&&Y(_,"customWidth",t.customWidth),void 0!==t.extensions){const e={..._.extensions};for(const n in t.extensions){const i=t.extensions[n];i&&(i.content||i.resources)?e[n]={content:i.content??null,resources:i.resources??[]}:delete e[n]}Y(_,"extensions",e)}if(void 0!==t.shapeClass&&Y(_,"shapeClass",t.shapeClass),void 0!==t.fillColor&&Y(_,"fillColor",t.fillColor),void 0!==t.textColor&&Y(_,"textColor",t.textColor),void 0!==t.fontFamily&&Y(_,"fontFamily",t.fontFamily),void 0!==t.fontSize&&Y(_,"fontSize",t.fontSize),void 0!==t.lineClass&&Y(_,"lineClass",t.lineClass),void 0!==t.lineColor&&Y(_,"lineColor",t.lineColor),void 0!==t.lineWidth&&Y(_,"lineWidth",t.lineWidth),void 0!==t.linePattern&&Y(_,"linePattern",t.linePattern),void 0!==t.fillPattern&&Y(_,"fillPattern",t.fillPattern),void 0!==t.borderLineWidth&&Y(_,"borderLineWidth",t.borderLineWidth),void 0!==t.borderLinePattern&&Y(_,"borderLinePattern",t.borderLinePattern),void 0!==t.arrowEndClass&&Y(_,"arrowEndClass",t.arrowEndClass),void 0!==t.borderLineColor&&Y(_,"borderLineColor",t.borderLineColor),void 0!==t.fontWeight&&Y(_,"fontWeight",t.fontWeight),void 0!==t.fontStyle&&Y(_,"fontStyle",t.fontStyle),void 0!==t.textTransform&&Y(_,"textTransform",t.textTransform),void 0!==t.textDecoration&&Y(_,"textDecoration",t.textDecoration),void 0!==t.textAlign&&Y(_,"textAlign",t.textAlign),void 0!==t.alignmentByLevel&&Y(_,"alignmentByLevel",t.alignmentByLevel),void 0!==p){const t=_.ref;t!==p&&(Y(_,"ref",p),t&&delete e.indexSet.idRefs[t],p&&(e.indexSet.idRefs[p]=u))}const k={...r,parentTopicId:u};if(void 0!==f&&function(e,t,n,r){!n||n.length<1||(t.children?.forEach((t=>L(e,t))),Y(t,"children",n.map((t=>D(e,t,i.o.Attached,r)))))}(e,_,f,k),void 0!==g&&function(e,t,n,r){!n||n.length<1||(t.detachedChildren?.forEach((t=>L(e,t))),Y(t,"detachedChildren",n.map((t=>D(e,t,i.o.Detached,r)))))}(e,_,g,k),void 0!==v){_.boundaries?.forEach((t=>V(e,t,!1)));Y(_,"boundaries",v.map((t=>q(e,t,{...k,parentTopicId:u}))))}const T=t.summaries;if(void 0!==T){_.summaries?.forEach((t=>U(e,t,!1)));Y(_,"summaries",T.map((t=>Z(e,t,{...k,parentTopicId:u}))))}if(null!=b){L(e,b.id);Y(_,"callout",D(e,b,i.o.Callout,{...k,parentTopicId:u}))}if(void 0!==m){const{boundaries:t=[],summaries:n=[],relationships:i=[]}=m;o(e,_,t,0,k),l(e,_,n,0,k),a(e,i,k)}if(void 0!==y){const{boundaries:t=[],relationships:n=[]}=y;d(e,t,_.detachedChildren??[],k),a(e,n,k)}for(const n of t.additionalChildren??[])c(e,_,n,k);for(const n of t.additionalDetachedChildren??[])h(e,_,n,k);if(void 0!==t.additionalBoundaries){const n=t.additionalBoundaries.map((t=>q(e,t,{...k,parentTopicId:u})));Y(_,"boundaries",[..._.boundaries??[],...n])}if(void 0!==t.additionalSummaries){const n=t.additionalSummaries.map((t=>Z(e,t,{...k,parentTopicId:u})));Y(_,"summaries",[..._.summaries??[],...n])}return function(e,t){const n=ie((0,s.Ob)(e.elements[t])),{children:i,boundaries:r}=n;if(!r?.length)return;const o=r?.map((t=>{const{rangeStart:n,rangeEnd:r,rangeType:o}=ie((0,s.j4)(e.elements[t]));return"parent"===o||ae(n,r,i?.length??0)?t:(V(e,t,!1),null)})).filter((e=>null!==e))??[];Y(n,"boundaries",o.length?o:null)}(e,u),function(e,t){const n=ie((0,s.Ob)(e.elements[t])),{children:i,summaries:r}=n;if(!r?.length)return;const o=r.map((t=>{const{rangeStart:n,rangeEnd:r,topicId:o}=ie((0,s.hg)(e,t));return ae(n,r,i?.length??0)&&o&&e.elements[o]?t:(U(e,t,!1),null)})).filter((e=>!!e))??[];Y(n,"summaries",o.length?o:null)}(e,u),u}function P(e,t,n,i,r,o=1){t[n]?.map((t=>{const a="boundaries"===n?(0,s.j4)(e.elements[t]):(0,s.hg)(e,t);if(!a)return;const{rangeStart:l,rangeEnd:c}=a;!se(l)||!se(c)||l<0||c<l||(r<l||"before"!==i&&r===l?(Y(a,"rangeStart",l+o),Y(a,"rangeEnd",c+o)):r<=("after"===i?c+1:c)&&Y(a,"rangeEnd",c+o))}))}function j(e,t,n){e.indexSet.topicTypes[t]===i.o.Summary&&U(e,t),L(e,t);const r=ie((0,s.Ob)(e.elements[n]));r.children=r.children?.filter((e=>e!==t)),r.detachedChildren=r.detachedChildren?.filter((e=>e!==t)),r.callout===t&&Y(r,"callout",null)}function L(e,t){const{elements:n,indexSet:i}=e,r=(0,s.Ob)(n[t]);if(!r)return;const o=i.parentTopics[t];if(o){const n=ie((0,s.Ob)(e.elements[o]));M(e,n,t,"boundaries"),M(e,n,t,"summaries")}[...i.incomingRelationships[t]??[]].forEach((t=>A(e,t))),[...i.outgoingRelationships[t]??[]].forEach((t=>A(e,t))),r.summaries?.map((t=>U(e,t,!1))),r.boundaries?.map((t=>V(e,t,!1)));const{ref:a,children:l,callout:c}=r;l?.forEach((t=>L(e,t))),c&&L(e,c),a&&delete i.idRefs[a],delete i.parentTopics[t],delete i.ownerSheets[t],delete i.ownerSummaries[t],delete i.incomingRelationships[t],delete i.outgoingRelationships[t],delete i.topicTypes[t],delete n[t]}function M(e,t,n,i,r=!1){const o=(t.children??[]).indexOf(n);o<0||(t[i]=t[i]?.map((t=>{const n="boundaries"===i?(0,s.j4)(e.elements[t]):(0,s.hg)(e,t);if(!n)return;const{rangeStart:a,rangeEnd:l}=n;if(se(a)&&se(l)){if(o<a)n.rangeStart=a-1,n.rangeEnd=l-1;else if(a<=o&&o<=l){if(o===a&&a===l)return"boundary"===n.type&&"parent"===n.rangeType?t:void(r||("boundaries"===i?V:U)(e,t,!1));n.rangeEnd=l-1}return t}})).filter((e=>!!e)))}function W(e,t){return _(e,((e,n,i)=>{const r=ue(e,t.id);F(e,t,{refResolver:n,ownerSheetId:r}),i(r)}))}function F(e,t,n){const{id:i,ref:r,source:o,target:a}=t;e.elements[i]||(e.elements[i]={id:i,type:"relationship"});const l=ie((0,s.$D)(e.elements[i]));if(void 0!==n.ownerSheetId&&(e.indexSet.ownerSheets[i]=n.ownerSheetId),void 0!==r){const t=l.ref;t!==r&&(Y(l,"ref",r),t&&delete e.indexSet.idRefs[t],r&&(e.indexSet.idRefs[r]=i))}void 0!==t.classes&&Y(l,"classes",t.classes.length>0?[...t.classes]:null),void 0!==t.title&&Y(l,"title",t.title),void 0!==t.attributedTitle&&Y(l,"attributedTitle",t.attributedTitle),void 0!==t.controlPoint1&&Y(l,"controlPoint1",t.controlPoint1),void 0!==t.controlPoint2&&Y(l,"controlPoint2",t.controlPoint2),void 0!==t.sourceRefPoint&&Y(l,"sourceRefPoint",t.sourceRefPoint),void 0!==t.targetRefPoint&&Y(l,"targetRefPoint",t.targetRefPoint),void 0!==t.shapeClass&&Y(l,"shapeClass",t.shapeClass),void 0!==t.textColor&&Y(l,"textColor",t.textColor),void 0!==t.fontFamily&&Y(l,"fontFamily",t.fontFamily),void 0!==t.fontSize&&Y(l,"fontSize",t.fontSize),void 0!==t.lineColor&&Y(l,"lineColor",t.lineColor),void 0!==t.lineWidth&&Y(l,"lineWidth",t.lineWidth),void 0!==t.linePattern&&Y(l,"linePattern",t.linePattern),void 0!==t.arrowBeginClass&&Y(l,"arrowBeginClass",t.arrowBeginClass),void 0!==t.arrowEndClass&&Y(l,"arrowEndClass",t.arrowEndClass),void 0!==t.fontWeight&&Y(l,"fontWeight",t.fontWeight),void 0!==t.fontStyle&&Y(l,"fontStyle",t.fontStyle),void 0!==t.textTransform&&Y(l,"textTransform",t.textTransform),void 0!==t.textDecoration&&Y(l,"textDecoration",t.textDecoration),void 0!==t.textAlign&&Y(l,"textAlign",t.textAlign);const c=t=>e.indexSet.ownerSheets[t]===e.indexSet.ownerSheets[i],u=(t,n)=>{const r="targetId"===t?"incomingRelationships":"outgoingRelationships";e.indexSet[r][n]=[...e.indexSet[r][n]??[],i]},d=(t,r)=>{if("id"in r){const n=r.id;e.elements[n]&&c(n)&&(Y(l,t,n),u(t,n))}else n.refResolver.onResolved(r.ref,((e,n)=>{c(n)&&(ie((0,s.$D)(e.elements[i]))[t]=n,u(t,n))}))};return o&&d("sourceId",o),a&&d("targetId",a),i}function N(e,t,n){const{source:i,target:r}=n,{elements:o,indexSet:s}=e,a=e=>{const n=e?ee(e,s.idRefs):void 0;if(n&&o[n]&&s.ownerSheets[n]===s.ownerSheets[t])return n},l=a(i),c=a(r);return l||c?{sourceId:l,targetId:c}:null}function B(e,t,n){const i=ie((0,s.$D)(e.elements[t])),r=(n,r)=>{if(!r)return;const o="targetId"===n?"incomingRelationships":"outgoingRelationships",s=i[n];s&&(e.indexSet[o][s]=e.indexSet[o][s]?.filter((e=>e!==t))),i[n]=r,e.indexSet[o][r]=[...e.indexSet[o][r]??[],t]},{sourceId:o,targetId:a}=n;r("sourceId",o),r("targetId",a)}function z(e,t){return _(e,((n,i,r)=>{const o=ue(n,t.id),s=ie(e.indexSet.parentTopics[t.id]);q(n,t,{refResolver:i,ownerSheetId:o,parentTopicId:s}),r(o)}))}function q(e,t,n){const{id:i,ref:r,title:o,rangeStart:a,rangeEnd:l,rangeType:c}=t;e.elements[i]||(e.elements[i]={id:i,type:"boundary"});const u=ie((0,s.j4)(e.elements[i])),{ownerSheetId:d,parentTopicId:h}=n;if(e.indexSet.ownerSheets[i]=d,e.indexSet.parentTopics[i]=h,void 0!==r){const t=u.ref;t!==r&&(Y(u,"ref",r),t&&delete e.indexSet.idRefs[t],r&&(e.indexSet.idRefs[r]=i))}return void 0!==o&&Y(u,"title",o),void 0!==t.attributedTitle&&Y(u,"attributedTitle",t.attributedTitle),"parent"===c?(Y(u,"rangeType","parent"),Y(u,"rangeStart",0),Y(u,"rangeEnd",0)):"parent"!==u.rangeType&&(Y(u,"rangeType","children"),void 0!==a&&Y(u,"rangeStart",a),void 0!==l&&Y(u,"rangeEnd",l)),void 0!==t.classes&&Y(u,"classes",t.classes.length>0?[...t.classes]:null),void 0!==t.shapeClass&&Y(u,"shapeClass",t.shapeClass),void 0!==t.fillColor&&Y(u,"fillColor",t.fillColor),void 0!==t.fillOpacity&&Y(u,"fillOpacity",t.fillOpacity),void 0!==t.textColor&&Y(u,"textColor",t.textColor),void 0!==t.fontFamily&&Y(u,"fontFamily",t.fontFamily),void 0!==t.fontSize&&Y(u,"fontSize",t.fontSize),void 0!==t.lineColor&&Y(u,"lineColor",t.lineColor),void 0!==t.lineWidth&&Y(u,"lineWidth",t.lineWidth),void 0!==t.linePattern&&Y(u,"linePattern",t.linePattern),void 0!==t.fillPattern&&Y(u,"fillPattern",t.fillPattern),void 0!==t.fontWeight&&Y(u,"fontWeight",t.fontWeight),void 0!==t.fontStyle&&Y(u,"fontStyle",t.fontStyle),void 0!==t.textTransform&&Y(u,"textTransform",t.textTransform),void 0!==t.textDecoration&&Y(u,"textDecoration",t.textDecoration),void 0!==t.textAlign&&Y(u,"textAlign",t.textAlign),i}function V(e,t,n=!0){const{elements:i,indexSet:r}=e,o=(0,s.j4)(i[t]);if(!o)return;if(n){const n=e.indexSet.parentTopics[t];if(n){const i=ie((0,s.Ob)(e.elements[n]));i.boundaries=i.boundaries?.filter((e=>e!==t))}}const a=o.ref;a&&delete r.idRefs[a],[...r.incomingRelationships[t]??[]].forEach((t=>A(e,t))),[...r.outgoingRelationships[t]??[]].forEach((t=>A(e,t))),delete r.incomingRelationships[t],delete r.outgoingRelationships[t],delete r.parentTopics[t],delete r.ownerSheets[t],delete i[t]}function H(e,t,n){const{elements:i,indexSet:r}=e,{parentTopic:o,rangeType:a}=n;if("parent"===a){const e=o?ee(o,r.idRefs):null;return e&&"topic"===i[e]?.type&&"detached"===r.topicTypes[e]?{rangeType:"parent",parentTopicId:e}:null}let l=null;if(o&&(l=o?ee(o,r.idRefs):null,!l||"topic"!==i[l]?.type))return null;const c=l??ie(r.parentTopics[t]),u=ie((0,s.Ob)(i[c])),d=u.children?.length??0;if(d<=0)return null;const{rangeStart:h,rangeEnd:p}=n,f=ie((0,s.j4)(i[t])),m=se(h)&&h>=0&&h<d?h:f.rangeStart,g=se(p)&&p>=0&&p<d?p:f.rangeEnd;if(!se(m)||!se(g)||m>g)return null;const y={rangeType:"children",rangeStart:m,rangeEnd:g};return l?{...y,parentTopicId:l}:y}function $(e,t,n){const{rangeStart:i,rangeEnd:r,parentTopicId:o,rangeType:a}=n,l=ie((0,s.j4)(e.elements[t]));o&&(e.indexSet.parentTopics[t]=o),"parent"===a?(Y(l,"rangeType","parent"),Y(l,"rangeStart",0),Y(l,"rangeEnd",0)):(Y(l,"rangeType","children"),se(i)&&Y(l,"rangeStart",i),se(r)&&Y(l,"rangeEnd",r))}function J(e,t){return _(e,((n,i,r)=>{const o=ue(n,t.id),s=ie(e.indexSet.parentTopics[t.id]);Z(n,t,{refResolver:i,ownerSheetId:o,parentTopicId:s}),r(o)}))}function Z(e,t,n){const{id:r,topic:o,rangeStart:a,rangeEnd:l}=t;e.elements[r]||(e.elements[r]={id:r,type:"summary"});const c=ie((0,s.So)(e.elements[r])),{ownerSheetId:u,parentTopicId:d}=n;e.indexSet.ownerSheets[r]=u,e.indexSet.parentTopics[r]=d,null!=o&&Y(c,"topicId",D(e,o,i.o.Summary,{...n,ownerSummaryId:r})),void 0!==a&&Y(c,"rangeStart",a),void 0!==l&&Y(c,"rangeEnd",l),void 0!==t.classes&&Y(c,"classes",t.classes.length>0?[...t.classes]:null),void 0!==t.shapeClass&&Y(c,"shapeClass",t.shapeClass),void 0!==t.lineColor&&Y(c,"lineColor",t.lineColor),void 0!==t.lineWidth&&Y(c,"lineWidth",t.lineWidth),void 0!==t.linePattern&&Y(c,"linePattern",t.linePattern);return ie(c.topicId)}function U(e,t,n=!0){const{elements:i,indexSet:r}=e,o=(0,s.hg)(e,t);if(!o)return;const a=o.id;if(n){const n=e.indexSet.parentTopics[a];if(n){const i=ie((0,s.Ob)(e.elements[n]));i.summaries=i.summaries?.filter((e=>e!==t))??[]}}L(e,t),delete r.parentTopics[a],delete r.ownerSheets[a],delete i[a]}function K(e,t,n){const i=ie(e.indexSet.parentTopics[t]),r=ie((0,s.Ob)(e.elements[i])),{rangeStart:o,rangeEnd:a}=n;if(void 0===o&&void 0===a)return null;const l=r.children?.length??0,c=ie((0,s.hg)(e,t)),u=se(o)?o:c.rangeStart,d=se(a)?a:c.rangeEnd;return void 0===u||void 0===d?null:ae(u,d,l)?{rangeStart:u,rangeEnd:d}:null}function X(e,t,n){const{rangeStart:i,rangeEnd:r}=n,o=ie((0,s.hg)(e,t));se(i)&&Y(o,"rangeStart",i),se(r)&&Y(o,"rangeEnd",r)}class G{constructor(){this._callbacksMap=new Map}onResolved(e,t){const n=this._callbacksMap.get(e)??[];this._callbacksMap.set(e,[...n,t])}resolve(e){this._callbacksMap.forEach(((t,n)=>{const i=e.indexSet.idRefs[n];i&&t.forEach((t=>t(e,i)))}))}}function Y(e,t,n){Array.isArray(n)&&n.length<1?delete e[t]:null!==n?e[t]=n:delete e[t]}function Q(e,t,n){const i=e[t];if(!i)return;let r=-1;for(;(r=i.findIndex((e=>e===n)))>=0;)i.splice(r,1);i.length<=0&&delete e[t]}function ee(e,t){return"id"in e?e.id:t[e.ref]??null}function te(e,t,n,i){const r=ne(i,t,n);r<0?t.push(...e):t.splice(r,0,...e)}function ne(e,t,n){if(!e)return t.length;if("at"in e){const n=e.at;return"number"!=typeof n||n<0||n>t.length?-1:n}if(e.after){const i=ee(e.after,n);if(!i)return-1;const r=t.indexOf(i);return r<0?-1:r+1}if(e.before){const i=ee(e.before,n);if(!i)return-1;const r=t.indexOf(i);return r<0?-1:r}return t.length}function ie(e){if(null==e)throw new Error("Object is null or undefined.");return e}function re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function oe(e,t){if(!(e instanceof t))throw new Error("Invalid argument type");return e}function se(e){return"number"==typeof e}function ae(e,t,n){const i=e=>e>=0&&e<n;return se(e)&&se(t)&&i(e)&&i(t)&&e<=t}function le(e){return e.filter((e=>se(e.rangeStart)&&se(e.rangeEnd)))}function ce(e,t){return e.map((e=>{const n=e.rangeEnd+1-e.rangeStart,i=e.rangeStart+t,r=i+n-1;return{...e,rangeStart:i,rangeEnd:r}}))}function ue(e,t){return ie(e.indexSet.ownerSheets[t])}},46924:(e,t,n)=>{"use strict";n.d(t,{sv:()=>S,kH:()=>C});var i=n(83556),r=n(6550),o=n(82521),s=n(65893),a=n(71381),l=n(84304);function c(e,t){const n={sheets:[],topics:[],boundaries:[],summaries:[],relationships:[],idMap:{},resources:new Set},{indexSet:{idRefs:i}}=e,r=[...new Set(t.map((e=>(0,s.IP)(e,i))).filter((e=>!!e)))];return function(e,t,{sheets:n,idMap:i,resources:r}){for(const o of t){const t=d(e,o,i,r);t&&n.push(t)}}(e,r,n),function(e,t,{topics:n,boundaries:i,summaries:r,relationships:o,idMap:c,resources:u}){const{elements:d,indexSet:{parentTopics:w,topicTypes:x,incomingRelationships:S,outgoingRelationships:k}}=e,T=t.filter((e=>"topic"===d[e]?.type)).sort(function(e){const{indexSet:t,elements:n}=e,i=e.indexSet.parentTopics,r=(e,t=1)=>{const n=i[e];return n?r(n,t++):t},o=e=>[a.o.Detached,a.o.Summary,a.o.Callout].includes(t.topicTypes[e]),s=e=>{const t=i[e];return(0,l.Ob)(t?n[t]:null)?.children?.findIndex((t=>t===e))??-1},c=(e,n)=>{if(o(e))return 1;if(o(n))return-1;const i=r(e),a=r(n);if(i!==a)return i-a;const l=t.parentTopics[e],u=t.parentTopics[n];return l?u?l===u?s(e)-s(n):c(l,u):1:-1};return c}(e));if(T.length<=0)return;const C=function({indexSet:{topicTypes:e,parentTopics:t}},n){const i={};for(const r of n){if("attached"!==e[r])continue;let o=t[r]??null,s=!0;for(;null!==o;){if(n.includes(o)){if(s){i[o]=[...i[o]??[],r];break}i[o]=i[o]??[]}o=t[o]??null,s=!1}}return i}(e,T),R={},O=new Set,I=new Set,A=new Set;let E=0;for(const t of T){if(t in R)continue;const r=v(e.indexSet,t);r&&A.add(r);const o=w[t];if(o){if(T.includes(o))continue;const n=x[t];if(n===a.o.Summary){I.add(t);const n=(0,s.yR)((0,l.hg)(e,t));if(p(n,(0,s.yR)((0,l.Ob)(d[o])).children??[],T)>0)continue;A.delete(n.id)}n===a.o.Attached&&O.add(o)}const c=m(e,t,R,u,C);c.boundaries&&(c.boundaries=c.boundaries.filter((e=>"children"===e.rangeType||(i.push({...e,rangeType:"children",rangeStart:E,rangeEnd:E}),!1))),c.boundaries&&0===c.boundaries.length&&delete c.boundaries),n.push(c),E+=1}for(const t of O){const n=(0,s.yR)((0,l.Ob)(d[t])),o=(n.boundaries??[]).map((e=>(0,s.yR)((0,l.j4)(d[e])))),a=(n.summaries??[]).map((t=>(0,s.yR)((0,l.hg)(e,t)))),c=n.children??[];i.push(...o.filter((e=>"children"===e.rangeType&&h(e,c,T))).map((t=>g(e,t.id,R,f(t,c,T))))),r.push(...a.map((t=>{if(!A.has(t.id)){if(h(t,c,T))return y(e,t.id,R,u,C,f(t,c,T));if(t.topicId&&I.has(t.topicId)){const n=p(t,c,T);if(n>0){const i=f(t,c,T);return y(e,t.id,R,u,C,i,i+n-1)}}}})).filter((e=>!!e)))}const D=new Set;Object.keys(R).forEach((e=>{c[e]=R[e],(S[e]??[]).forEach((e=>D.add(e))),(k[e]??[]).forEach((e=>D.add(e)))}));for(const t of D){if(t in c)continue;const n=b(e,t,c);n&&o.push(n)}n.map((e=>_(e,c)))}(e,r,n),n}function u(e,t){e&&e.startsWith("xap:")&&t.add(e.slice(4))}function d(e,t,n,i){const r=(0,l.vB)(e.elements[t]);if(!r)return null;const{type:o,revisionId:a,rootTopicId:c,relationships:u,...d}=r,h=c?m(e,c,n,i,{},!0):{id:(0,s.Vj)()},p=(u??[]).map((t=>b(e,t,n))).filter((e=>!!e)),f={...d,id:(0,s.Vj)(),rootTopic:h,...p.length>0?{relationships:p}:{}};return n[r.id]=f.id,_(h,n),f}function h({rangeStart:e,rangeEnd:t},n,i){return!(!(0,s.hj)(e)||!(0,s.hj)(t))&&(!(e<0||e>t||t>n.length)&&[...n].splice(e,t-e+1).every((e=>i.includes(e))))}function p({rangeStart:e,rangeEnd:t},n,i){if(!(0,s.hj)(e)||!(0,s.hj)(t))return 0;if(e<0||e>t||t>n.length)return 0;let r=0;for(let o=e;o<=t;o++)i.includes(n[o])&&r++;return r}function f({rangeStart:e},t,n){if(!(0,s.hj)(e))return 0;const i=t[e],r=n.indexOf(i);return r<0?e??0:r}function m(e,t,n,i,r,o=!1){const a=(0,s.yR)((0,l.Ob)(e.elements[t])),{type:c,detachedChildren:d=[],children:p=[],boundaries:b=[],summaries:v=[],callout:_,...w}=a,x=r[t]??p,S=x.map((t=>m(e,t,n,i,r))),k=o?d.map((t=>m(e,t,n,i,r))):[],T=b.map((t=>(0,s.yR)((0,l.j4)(e.elements[t])))),C=v.map((t=>(0,s.yR)((0,l.hg)(e,t)))),R=[],O=[];R.push(...T.filter((e=>"children"!==e.rangeType||h(e,p,x))).map((t=>g(e,t.id,n,f(t,p,x))))),O.push(...C.filter((e=>h(e,p,x))).map((t=>y(e,t.id,n,i,r,f(t,p,x)))));const I=_?m(e,_,n,i,r):null,A={...w,...S.length>0?{children:S}:{},...k.length>0?{detachedChildren:k}:{},...R.length>0?{boundaries:R}:{},...O.length>0?{summaries:O}:{},...I?{callout:I}:{},id:(0,s.Vj)()};return n[t]=A.id,a.imageSource&&u(a.imageSource,i),a.href&&u(a.href,i),a.extensions&&Object.values(a.extensions).forEach((e=>{e.resources?.forEach((e=>u(e,i)))})),A}function g(e,t,n,i){const r=(0,s.yR)((0,l.j4)(e.elements[t])),{type:o,rangeStart:a,rangeEnd:c,...u}=r,d={...u,id:(0,s.Vj)()};if((0,s.hj)(a)&&(0,s.hj)(c)){const e=void 0!==i?i:a,t=e+c-a;d.rangeStart=e,d.rangeEnd=t}return n[t]=d.id,d}function y(e,t,n,i,r,o,a){const c=(0,s.yR)((0,l.So)(e.elements[t])),{topicId:u,type:d,rangeStart:h,rangeEnd:p,...f}=c,g={...f,id:(0,s.Vj)(),...u?{topic:m(e,u,n,i,r)}:{id:(0,s.Vj)()}};if((0,s.hj)(h)&&(0,s.hj)(p)){const e=void 0!==o?o:h,t=void 0!==a?a:e+p-h;g.rangeStart=e,g.rangeEnd=t}return n[t]=g.id,g}function b(e,t,n){const i=(0,s.yR)((0,l.$D)(e.elements[t])),{type:r,sourceId:o,targetId:a,...c}=i,u=o?n[o]:null,d=a?n[a]:null;if(!u||!d)return null;const h={...c,id:(0,s.Vj)(),source:{id:u},target:{id:d}};return n[t]=h.id,h}function v(e,t){const{parentTopics:n,topicTypes:i,ownerSummaries:r}=e;if(i[t]===a.o.Summary)return;let o=t;for(;o&&i[o]!==a.o.Summary;)o=n[o];return o?r[o]:void 0}function _(e,t){if(e.href?.startsWith("xmind:#")){const n=t[e.href.slice(7)];n&&(e.href="xmind:#"+n)}e.children?.map((e=>_(e,t))),e.detachedChildren?.map((e=>_(e,t))),e.summaries?.map((e=>{e.topic&&_(e.topic,t)})),e.callout&&_(e.callout,t)}var w=n(28897);const x={fontFamily:null,fontSize:null,fontWeight:null,fontStyle:null,textDecoration:null,textColor:null,textAlign:null,textTransform:null};class S{constructor(e){this._repo=e}get internalRepository(){return this._repo}get sheets(){return this._repo.sheets.map((e=>(0,s.yR)(this.query({id:e})?.asSheet())))}get metadataKeys(){return Object.keys(this._repo.metadata)}metadataFor(e){return this._repo.metadata[e]??""}query(e){const t=(0,s.IP)(e,this._repo.indexSet.idRefs);if(!t)return null;const n=this._repo.elements[t];return"summary"===n?.type?null:n?new T(this,e,n):null}queryList(e){return new L(this,e)}asMutable(){return new o.Mv(this._repo)}Sheet(){return new r.eN}Topic(){return new r.GO}Relationship(){return new r.XZ}Boundary(){return new r.r3}Summary(){return new r.gn}Callout(){return new r.GO}}class k{constructor(e,t,n){this._ownerDocument=e,this.selector=t,this._element=n}get internalElement(){return this._element}get ownerDocument(){return this._ownerDocument}}class T extends k{get type(){return this._element.type}asSheet(){return"sheet"!==this._element.type?null:new C(this._ownerDocument,this.selector,this._element)}asTopic(){return"topic"!==this._element.type?null:new O(this._ownerDocument,this.selector,this._element)}asRelationship(){return"relationship"!==this._element.type?null:new E(this._ownerDocument,this.selector,this._element)}asRelationshipEnd(){return"topic"!==this._element.type&&"boundary"!==this._element.type?null:new D(this._ownerDocument,this.selector,this._element)}asBoundary(){return"boundary"!==this._element.type?null:new P(this._ownerDocument,this.selector,this._element)}asSummary(){const e=(0,l.hg)(this._ownerDocument.internalRepository,this._element.id);return e?new j(this._ownerDocument,this.selector,e):null}}class C extends k{get id(){return this._element.id}get revisionId(){return this._element.revisionId}get rootTopic(){const e=(0,s.yR)(this._element.rootTopicId);return(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())}get relationships(){return(this._element.relationships??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asRelationship())))}get styleClassNames(){return Object.keys(this._element.themeStyles??{})}get skeletonThemeId(){return this._element.skeletonThemeId??null}get colorThemeId(){return this._element.colorThemeId??null}get ref(){return this._element.ref??null}get classes(){return this._element.classes??[]}get title(){return this._element.title??null}get topicOverlapping(){return this._element.topicOverlapping??null}get topicPositioning(){return this._element.topicPositioning??null}get floatingTopicFlexibility(){return this._element.floatingTopicFlexibility??null}get compactLayoutLevel(){return this._element.compactLayoutLevel??null}get cjkFontFamily(){return this._element.cjkFontFamily??null}get lineTapered(){return this._element.lineTapered??null}get fillColor(){return this._element.fillColor??null}get multiLineColors(){return this._element.multiLineColors??null}get colorList(){return this._element.colorList??null}get legendVisibility(){return this._element.legendVisibility??null}get legendPosition(){return this._element.legendPosition??null}get describedMarkers(){return[...new Set(Object.keys(this._element.legendMarkers??{}))].sort(((e,t)=>e.localeCompare(t)))}get extensionProviders(){return Object.keys(this._element.extensions??{})}extensionBy(e){const t=this._element.extensions?.[e];return t?A(t):null}clone(){return M(c(this._ownerDocument.internalRepository,[{id:this._element.id}]))}query(e){const{elements:t,indexSet:n}=this._ownerDocument.internalRepository,i=(0,s.IP)(e,n.idRefs);if(!i||n.ownerSheets[i]!==this.id)return null;const r=t[i];return r?new T(this._ownerDocument,e,r):null}queryList(e){return new L(this._ownerDocument,e)}markerDescriptionFor(e){return this._element.legendMarkers?.[e]??null}styleFor(e){const t=e?this._element.themeStyles?.[e]:null;return t?new R(t):null}asMutable(){return new o.Wx(this.id,this._ownerDocument.internalRepository)}asMovable(e){return o.tL.make(this._ownerDocument.internalRepository,this._element.id,e)}asRemovable(){return o.x6.make(this._ownerDocument.internalRepository,this._element.id)}Topic(){return new r.GO}Relationship(){return new r.XZ}Boundary(){return new r.r3}Summary(){return new r.gn}Callout(){return new r.GO}}class R{constructor(e){this._style=e}asTopicStyle(){return A(this._style)}asSheetStyle(){return A(this._style)}asRelationshipStyle(){return A(this._style)}asBoundaryStyle(){return A(this._style)}asSummaryStyle(){return A(this._style)}asGlobalStyle(){return A(this._style)}asAnyStyle(){return A(this._style)}}class O extends k{constructor(){super(...arguments),this.taskStats={taskDescendants:[],initialized:!1}}get id(){return this._element.id}get ref(){return this._element.ref??null}get classes(){return this._element.classes??[]}get topicType(){return(0,s.yR)(this._ownerDocument.internalRepository.indexSet.topicTypes[this.id])}get title(){return this._element.title??null}get titleUnedited(){return this._element.titleUnedited??null}get attributedTitle(){return this._element.attributedTitle?.map((e=>({...x,...e})))??[]}get href(){return this._element.href??null}get labels(){return[...this._element.labels??[]]}get markers(){return[...this._element.markers??[]]}get notes(){return this._element.notes??null}get position(){return this._element.position??null}get structureClass(){return this._element.structureClass??null}get branchState(){return this._element.branchState??null}get extensionProviders(){return Object.keys(this._element.extensions??{})}get imageSource(){return this._element.imageSource??null}get imageWidth(){return this._element.imageWidth??null}get imageHeight(){return this._element.imageHeight??null}get imagePlacement(){return this._element.imagePlacement??null}get imageLockRatio(){return this._element.imageLockRatio??null}get imageBorderLineColor(){return this._element.imageBorderLineColor??null}get imageBorderLineWidth(){return this._element.imageBorderLineWidth??null}get imageShadowVisible(){return this._element.imageShadowVisible??null}get imageOpacity(){return this._element.imageOpacity??null}get imageIsMathJaxImage(){return this._element.imageIsMathJaxImage??null}get shapeClass(){return this._element.shapeClass??null}get lineClass(){return this._element.lineClass??null}get lineWidth(){return this._element.lineWidth??null}get linePattern(){return this._element.linePattern??null}get fillPattern(){return this._element.fillPattern??null}get borderLineWidth(){return this._element.borderLineWidth??null}get borderLinePattern(){return this._element.borderLinePattern??null}get arrowEndClass(){return this._element.arrowEndClass??null}get fontFamily(){return this._element.fontFamily??null}get fontSize(){return this._element.fontSize??null}get fillColor(){return this._element.fillColor??null}get lineColor(){return this._element.lineColor??null}get textColor(){return this._element.textColor??null}get borderLineColor(){return this._element.borderLineColor??null}get fontWeight(){return this._element.fontWeight??null}get fontStyle(){return this._element.fontStyle??null}get textTransform(){return this._element.textTransform??null}get textDecoration(){return this._element.textDecoration??null}get textAlign(){return this._element.textAlign??null}get customWidth(){return this._element.customWidth??null}get alignmentByLevel(){return this._element.alignmentByLevel??null}get task(){const e=this._element.extensions?.["org.xmind.ui.task"]?.content;if(!(0,w.gK)(e)||"object"!=typeof e||Array.isArray(e))return null;const{status:t}=e;return"todo"!==t&&"done"!==t?null:{status:t}}get taskPresentation(){return this.initializeTaskStats(),this.taskDescendants.length?"progress":"todo"}get taskDescendants(){return this.initializeTaskStats(),[...this.taskStats.taskDescendants]??[]}get aggregatedCountOfTodos(){return this.initializeTaskStats(),this.taskStats.aggregatedCountOfTodos??null}get aggregatedCountOfCheckedTodos(){return this.initializeTaskStats(),this.taskStats.aggregatedCountOfCheckedTodos??null}get parentTopic(){const e=this._ownerDocument.internalRepository.indexSet.parentTopics[this.id];return e?this._ownerDocument.query({id:e})?.asTopic()??null:null}get ownerSheet(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.ownerSheets[this.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asSheet())}get ownerSummary(){return this._ownerDocument.query({id:this.id})?.asSummary()??null}get children(){return(this._element.children??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())))}get detachedChildren(){return(this._element.detachedChildren??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())))}get boundaries(){return(this._element.boundaries??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asBoundary())))}get summaries(){return(this._element.summaries??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asSummary())))}get callout(){const e=this._element.callout;return e?(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic()):null}extensionBy(e){const t=this._element.extensions?.[e];return t?A(t):null}asRelationshipEnd(){return(0,s.yR)(this._ownerDocument.query({id:this.id})?.asRelationshipEnd())}asMovable(e){return o.E9.make(this._ownerDocument.internalRepository,this._element.id,e)}asRemovable(){return o.Bg.make(this._ownerDocument.internalRepository,this._element.id)}asMutable(){return new o.Gf(this.id,this._ownerDocument.internalRepository)}asSummary(){return this._ownerDocument.query({id:this.id})?.asSummary()??null}Boundary(){return(0,i.EW)()}initializeTaskStats(){if(!this.task)return null;if(this.taskStats.initialized)return null;const e=t=>{t.children?.forEach((t=>{const n=(0,s.yR)(this._ownerDocument.internalRepository.elements[t]),i=(0,s.yR)(this.ownerSheet.query({id:t})?.asTopic()),r=i.task;if(!r)return e(n);this.taskStats.taskDescendants=[...this.taskStats.taskDescendants,t,...i.taskDescendants];const o=!i.taskDescendants.length,a=i.aggregatedCountOfTodos??0;this.taskStats.aggregatedCountOfTodos=(this.taskStats.aggregatedCountOfTodos??0)+(o?1:a);const l=i.aggregatedCountOfCheckedTodos??0;this.taskStats.aggregatedCountOfCheckedTodos=(this.taskStats.aggregatedCountOfCheckedTodos??0)+(o&&"done"===r.status?1:l)}))};e(this._element),this.taskStats.initialized=!0}}const I={get(...e){const t=Reflect.get(...e)??null;return"object"==typeof t&&null!==t?A(t):t},set:()=>!1,deleteProperty:()=>!1,ownKeys:(...e)=>Reflect.ownKeys(...e),getOwnPropertyDescriptor:(...e)=>Reflect.getOwnPropertyDescriptor(...e)};function A(e){return new Proxy(e,I)}class E extends k{get id(){return this._element.id}get ref(){return this._element.ref??null}get classes(){return this._element.classes??[]}get source(){const e=(0,s.yR)(this._element.sourceId);return(0,s.yR)(this._ownerDocument.query({id:e})?.asRelationshipEnd())}get target(){const e=(0,s.yR)(this._element.targetId);return(0,s.yR)(this._ownerDocument.query({id:e})?.asRelationshipEnd())}get ownerSheet(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.ownerSheets[this.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asSheet())}get title(){return this._element.title??null}get attributedTitle(){return this._element.attributedTitle?.map((e=>({...x,...e})))??[]}get controlPoint1(){return this._element.controlPoint1??null}get controlPoint2(){return this._element.controlPoint2??null}get sourceRefPoint(){return this._element.sourceRefPoint??null}get targetRefPoint(){return this._element.targetRefPoint??null}get shapeClass(){return this._element.shapeClass??null}get lineWidth(){return this._element.lineWidth??null}get linePattern(){return this._element.linePattern??null}get arrowBeginClass(){return this._element.arrowBeginClass??null}get arrowEndClass(){return this._element.arrowEndClass??null}get fontFamily(){return this._element.fontFamily??null}get fontSize(){return this._element.fontSize??null}get lineColor(){return this._element.lineColor??null}get textColor(){return this._element.textColor??null}get fontWeight(){return this._element.fontWeight??null}get fontStyle(){return this._element.fontStyle??null}get textTransform(){return this._element.textTransform??null}get textDecoration(){return this._element.textDecoration??null}get textAlign(){return this._element.textAlign??null}asMovable(e){return o.y0.make(this._ownerDocument.internalRepository,this._element.id,e)}remove(){return o.WV.remove(this._ownerDocument.internalRepository,this._element.id)}asMutable(){return new o.ZT(this.id,this._ownerDocument.internalRepository)}}class D extends k{get id(){return this._element.id}get type(){return"topic"}asTopic(){return"topic"!==this._element.type?null:new O(this._ownerDocument,this.selector,this._element)}asBoundary(){return"boundary"!==this._element.type?null:new P(this._ownerDocument,this.selector,this._element)}get incomingRelationships(){return(this._ownerDocument.internalRepository.indexSet.incomingRelationships[this.id]??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asRelationship())))}get outgoingRealtionships(){return(this._ownerDocument.internalRepository.indexSet.outgoingRelationships[this.id]??[]).map((e=>(0,s.yR)(this._ownerDocument.query({id:e})?.asRelationship())))}}class P extends k{get id(){return this._element.id}get ref(){return this._element.ref??null}get classes(){return this._element.classes??[]}get rangeType(){return this._element.rangeType??"children"}get title(){return this._element.title??null}get attributedTitle(){return this._element.attributedTitle?.map((e=>({...x,...e})))??[]}get rangeStart(){return(0,s.yR)(this._element.rangeStart)}get rangeEnd(){return(0,s.yR)(this._element.rangeEnd)}get parentTopic(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.parentTopics[this.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())}get ownerSheet(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.ownerSheets[this.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asSheet())}get shapeClass(){return this._element.shapeClass??null}get lineWidth(){return this._element.lineWidth??null}get linePattern(){return this._element.linePattern??null}get fillPattern(){return this._element.fillPattern??null}get fillColor(){return this._element.fillColor??null}get fillOpacity(){return this._element.fillOpacity??null}get lineColor(){return this._element.lineColor??null}get fontFamily(){return this._element.fontFamily??null}get fontSize(){return this._element.fontSize??null}get fontWeight(){return this._element.fontWeight??null}get fontStyle(){return this._element.fontStyle??null}get textTransform(){return this._element.textTransform??null}get textDecoration(){return this._element.textDecoration??null}get textAlign(){return this._element.textAlign??null}get textColor(){return this._element.textColor??null}asMovable(e){return o.gm.make(this._ownerDocument.internalRepository,this._element.id,e)}remove(){return o.M1.remove(this._ownerDocument.internalRepository,this._element.id)}asMutable(){return new o.Eu(this._ownerDocument.internalRepository,this.id)}}class j extends k{get id(){return(0,s.yR)(this._element.topicId)}get classes(){return this._element.classes??[]}get rangeStart(){return(0,s.yR)(this._element.rangeStart)}get rangeEnd(){return(0,s.yR)(this._element.rangeEnd)}get topic(){const e=(0,s.yR)(this._element.topicId);return(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())}get parentTopic(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.parentTopics[this._element.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())}get ownerSheet(){const e=(0,s.yR)(this._ownerDocument.internalRepository.indexSet.ownerSheets[this._element.id]);return(0,s.yR)(this._ownerDocument.query({id:e})?.asSheet())}get shapeClass(){return this._element.shapeClass??null}get lineWidth(){return this._element.lineWidth??null}get linePattern(){return this._element.linePattern??null}get lineColor(){return this._element.lineColor??null}asMutable(){return new o.NW(this._ownerDocument.internalRepository,this.id)}asMovable(e){return o.zV.make(this._ownerDocument.internalRepository,this.id,e)}asTopic(){const e=(0,s.yR)(this._element.topicId);return(0,s.yR)(this._ownerDocument.query({id:e})?.asTopic())}remove(){return o.Mz.remove(this._ownerDocument.internalRepository,this.id)}}class L{constructor(e,t){this._ownerDocument=e,this.selectors=t}get ownerDocument(){return this._ownerDocument}clone(){return M(c(this._ownerDocument.internalRepository,this.selectors))}}function M({sheets:e,topics:t,boundaries:n,summaries:i,relationships:o,idMap:s,resources:a}){return{sheets:e.map((e=>new r.eN(e))),topics:t.map((e=>new r.GO(e))),boundaries:n.map((e=>new r.r3(e))),summaries:i.map((e=>new r.gn(e))),relationships:o.map((e=>new r.XZ(e))),idMap:s,resources:[...a]}}},84304:(e,t,n)=>{"use strict";function i(e){return"sheet"===e?.type?e:null}function r(e){return"topic"===e?.type?e:null}function o(e){return"relationship"===e?.type?e:null}function s(e){return"boundary"===e?.type?e:null}function a(e){return"summary"===e?.type?e:null}function l(e,t){const n=r(e.elements[t]);if("topic"!==n?.type)return null;if("summary"!==e.indexSet.topicTypes[t])return null;const i=e.indexSet.ownerSummaries[t];return i?a(e.elements[i]):null}function c(){return{metadata:{},sheets:[],elements:{},indexSet:{idRefs:{},parentTopics:{},ownerSheets:{},ownerSummaries:{},incomingRelationships:{},outgoingRelationships:{},topicTypes:{}}}}n.d(t,{$D:()=>o,E4:()=>c,Ob:()=>r,So:()=>a,hg:()=>l,j4:()=>s,vB:()=>i})},28897:(e,t,n)=>{"use strict";n.d(t,{CW:()=>f,JJ:()=>g,bi:()=>u,gK:()=>R,hX:()=>a});var i=n(71381),r=n(65893),o=n(46924),s=n(87494);function a(e){if(!e.sheets.length)return{content:[],metadata:{},resources:[]};const t=new Set,n=e=>{e.startsWith("xap:")&&t.add(e.slice(4))},a=e.sheets.map((e=>function(e,t){const{id:n,rootTopic:i,relationships:s}=e,a={id:n};a.class=p([...e.classes,"sheet"]).join(" "),a.rootTopic=l(i,t),s.length&&(a.relationships=s.map((e=>function(e){const t={id:e.id},n=p([...e.classes??[]]);n.length&&(t.class=n.join(" "));t.end1Id=e.source.id,t.end2Id=e.target.id,e.title&&(t.title=e.title);null!==e.attributedTitle&&(t.attributedTitle=e.attributedTitle.map((e=>({text:e.text,...h(e)}))));const i={};e.controlPoint1&&(i[0]=e.controlPoint1);e.controlPoint2&&(i[1]=e.controlPoint2);Object.keys(i).length&&(t.controlPoints=i);const o={};e.sourceRefPoint&&(o[0]=e.sourceRefPoint);e.targetRefPoint&&(o[1]=e.targetRefPoint);Object.keys(o).length&&(t.lineEndPoints=o);const s=d(e);s&&(t.style={id:(0,r.Vj)(),properties:s});return t}(e))));e.title&&(a.title=e.title);e.topicOverlapping&&(a.topicOverlapping=e.topicOverlapping);e.topicPositioning&&(a.topicPositioning=e.topicPositioning);"flexible"===e.floatingTopicFlexibility&&(a.floatingTopicFlexible=!0);e.compactLayoutLevel&&(a.compactLayoutModeLevel=e.compactLayoutLevel);if(e.legendVisibility){const t=a.legend??{};t.visibility=e.legendVisibility,a.legend=t}if(e.legendPosition){const t=a.legend??{};t.position=e.legendPosition,a.legend=t}if(e.describedMarkers.length){const t={};for(const n of e.describedMarkers)t[n]=e.markerDescriptionFor(n);const n=a.legend??{};a.legend={...n,markers:t}}if(e.extensionProviders?.length){const n=e.extensionProviders.map((n=>{const i=e.extensionBy(n);if(!i)return null;const r={provider:n};return i.content&&(r.content=i.content),i.resources.length&&(r.resourceRefs=i.resources,i.resources.forEach((e=>t?.(e)))),r})).filter((e=>!!e));n.length&&(a.extensions=n)}const c=d(e);c&&(a.style={id:(0,r.Vj)(),properties:c});const u={},f=(0,r.xp)(e,o.kH).internalElement.themeStyles;for(const e in f){const t=d(f[e]);t&&(u[e]={id:(0,r.Vj)(),properties:t})}e.skeletonThemeId&&(u.skeletonThemeId=e.skeletonThemeId);e.colorThemeId&&(u.colorThemeId=e.colorThemeId);return a.theme=u,a}(e,n))),c=function(e){const t={[i.K.DataStructureVersion]:s.iO},n=e.metadataKeys,r=(e,t)=>(t[e]||(t[e]={}),t[e]);return n.forEach((n=>{const i=e.metadataFor(n);if(!i)return;const o=n.split("/"),s=o.pop();let a=t;if(s){for(let e=0;e<o.length;++e)a=r(o[e],a);a[s]=i}})),t}(e);return{content:a,metadata:c,resources:[...t]}}function l(e,t){const{id:n,classes:o,title:s,titleUnedited:a,attributedTitle:u,notes:f,labels:m,imageSource:g,imageWidth:y,imageHeight:b,imagePlacement:v,imageLockRatio:w,imageBorderLineColor:x,imageBorderLineWidth:S,imageShadowVisible:k,imageOpacity:T,imageIsMathJaxImage:C,href:R,position:O,children:I,detachedChildren:A,summaries:E,boundaries:D,callout:P,markers:j,branchState:L,structureClass:M,customWidth:W}=e,F={id:n},N=p([...o??[],...e.topicType===i.o.Root?["topic"]:[]]);if(N.length&&(F.class=N.join(" ")),s&&(F.title=s),null!==a&&(F.titleUnedited=a),null!==u&&(F.attributedTitle=u.map((e=>({text:e.text,...h(e)})))),f&&(F.notes={...null!==f.text?{plain:{content:f.text}}:{},...null!==f.html?{realHTML:{content:f.html}}:{}}),m.length&&(F.labels=m),g){t?.(g);const e={src:g};y&&(e.width=y),b&&(e.height=b),v&&(e.align=v),w&&(e.lockRatio=w),x&&(e.borderColor=x),S&&(e.borderWidth=S),k&&(e.shadowVisible=k),T&&(e.opacity=T),C&&(e.isMathJaxImage=C),F.image=e}if(W&&(F.customWidth=W),R&&(t?.(R),F.href=R),j.length&&(F.markers=j.map((e=>({markerId:e})))),O&&(F.position=O),L&&(F.branch=L),M&&(F.structureClass=M),e.extensionProviders?.length){const n=e.extensionProviders.map((n=>{const i=e.extensionBy(n);if(!i)return null;const r={provider:n};return i.content&&(r.content=i.content),i.resources.length&&(r.resourceRefs=i.resources,i.resources.forEach((e=>t?.(e)))),r})).filter((e=>!!e));n.length&&(F.extensions=n)}if(I.length&&(F.children={attached:I.map((e=>l(e,t)))}),A.length){const e="children"in F?_(F.children):{};F.children={...e,detached:A.map((e=>l(e,t)))}}if(D.length&&(F.boundaries=D.map((e=>function(e){const t={id:e.id},n=p([...e.classes??[]]);n.length&&(t.class=n.join(" "));t.range="parent"===e.rangeType?"master":`(${e.rangeStart},${e.rangeEnd})`,e.title&&(t.title=e.title);null!==e.attributedTitle&&(t.attributedTitle=e.attributedTitle.map((e=>({text:e.text,...h(e)}))));const i=d(e);i&&(t.style={id:(0,r.Vj)(),properties:i});return t}(e)))),E.length){F.summaries=E.map((e=>function(e){const t=e.id,n=e.ownerDocument.internalRepository,i={id:(0,r.yR)(n.indexSet.ownerSummaries[t])},o=p([...e.classes??[]]);o.length&&(i.class=o.join(" "));i.range=`(${e.rangeStart},${e.rangeEnd})`,i.topicId=t;const s=d(e);s&&(i.style={id:(0,r.Vj)(),properties:s});return i}(e)));const e="children"in F?_(F.children):{};F.children={...e,summary:E.map((e=>l(e.asTopic(),t)))}}if(P){const e="children"in F?_(F.children):{};F.children={...e,callout:[c(P,t)]}}const B=d(e);return B&&(F.style={id:(0,r.Vj)(),properties:B}),F}function c(e,t){const n=l(e,t),i=d(e);if(i&&e.shapeClass){let t=e.shapeClass;"org.xmind.topicShape.ellipse"===e.shapeClass?t="org.xmind.calloutTopicShape.balloon.ellipse":"org.xmind.topicShape.roundedRect"===e.shapeClass?t="org.xmind.calloutTopicShape.balloon.roundedRect":"org.xmind.topicShape.rect"===e.shapeClass&&(t="org.xmind.calloutTopicShape.balloon.rectangle"),delete i["shape-class"],i["callout-shape-class"]=t,n.style={id:(0,r.Vj)(),properties:i}}return n}function u(e){const t={};Object.keys(e.fileEntries).forEach((n=>{const i=e.fileEntries[n],r={};i.keyDerivationSize&&(r.size=i.keyDerivationSize),i.keyDerivationIterationCount&&(r["iteration-count"]=i.keyDerivationIterationCount),i.keyDerivationAlgorithm&&(r["algorithm-name"]=i.keyDerivationAlgorithm),i.cipherAlgorithm&&(r["key-derivation-name"]=i.cipherAlgorithm),i.keyDerivationSalt&&(r.salt=i.keyDerivationSalt),i.keyDerivationIV&&(r.iv=i.keyDerivationIV);const o={};Object.keys(r).length>0&&(o["encryption-data"]=r),t[n]=o}));const n={"file-entries":t};return e.passwordHint&&(n["password-hint"]=e.passwordHint),n}function d(e){const t={};return Object.assign(t,h(e)),e.fillColor&&(t["svg:fill"]=e.fillColor),e.fillOpacity&&(t["svg:opacity"]=e.fillOpacity),e.fillPattern&&(t["fill-pattern"]=e.fillPattern),e.lineWidth&&(t["line-width"]=e.lineWidth),e.lineColor&&(t["line-color"]=e.lineColor),e.linePattern&&(t["line-pattern"]=e.linePattern),e.borderLineColor&&(t["border-line-color"]=e.borderLineColor),e.borderLineWidth&&(t["border-line-width"]=e.borderLineWidth),e.borderLinePattern&&(t["border-line-pattern"]=e.borderLinePattern),e.shapeClass&&(t["shape-class"]=e.shapeClass),e.lineClass&&(t["line-class"]=e.lineClass),e.arrowBeginClass&&(t["arrow-begin-class"]=e.arrowBeginClass),e.arrowEndClass&&(t["arrow-end-class"]=e.arrowEndClass),e.cjkFontFamily&&(t["cjk-font-family"]=e.cjkFontFamily),e.multiLineColors&&(t["multi-line-colors"]=e.multiLineColors),e.colorList&&(t["color-list"]=e.colorList),e.lineTapered&&(t["line-tapered"]=e.lineTapered),e.alignmentByLevel&&(t["alignment-by-level"]=e.alignmentByLevel),e.globalLineWidthDisabled&&(t["global_line-width"]=e.globalLineWidthDisabled),e.globalFontFamilyDisabled&&(t["global_fo:font-family"]=e.globalFontFamilyDisabled),0===Object.keys(t).length?null:t}function h(e){const t={};return e.fontFamily&&(t["fo:font-family"]=e.fontFamily),e.fontSize&&(t["fo:font-size"]=e.fontSize),e.fontWeight&&(t["fo:font-weight"]=e.fontWeight),e.fontStyle&&(t["fo:font-style"]=e.fontStyle),e.textColor&&(t["fo:color"]=e.textColor),e.textTransform&&(t["fo:text-transform"]=e.textTransform),e.textDecoration&&(t["fo:text-decoration"]=e.textDecoration),e.textAlign&&(t["fo:text-align"]=e.textAlign),Object.keys(t).length?t:null}function p(e){return Array.from(new Set(e.map((e=>e.trim())).filter((e=>!!e))))}function f(e,t){const n={};n.metadata=function(e){const t={},n=(e,i)=>{if("object"!=typeof e||null===e||Array.isArray(e))"string"==typeof e&&i&&(t[i]=e);else{const t=e;Object.keys(t).forEach((e=>n(t[e],i?i+"/"+e:e)))}};return n(e),t}(t);const i=[],s=e=>{if(i.includes(e))throw new Error("Duplicated ID found during deserialization process.");i.push(e)};return n.sheets=w(e).map((e=>function(e,t){const n=x(e);t?.(n.id);const i={id:n.id};R(n.class)&&(i.classes=v(S(n.class),"sheet"));R(n.title)&&(i.title=S(n.title));R(n.topicOverlapping)&&(i.topicOverlapping=S(n.topicOverlapping));R(n.topicPositioning)&&(i.topicPositioning=S(n.topicPositioning));R(n.floatingTopicFlexible)&&(i.floatingTopicFlexibility="flexible");R(n.compactLayoutModeLevel)&&(i.compactLayoutLevel=S(n.compactLayoutModeLevel));if(R(n.style)){const e=y(n.style);for(const t in e){const n=t;i[n]=(0,r.yR)(e[n])}}R(n.rootTopic)&&(i.rootTopic=m(n.rootTopic,t));R(n.relationships)&&(i.relationships=w(n.relationships).map((e=>function(e,t){const n=x(e);t?.(n.id);const i={id:n.id};R(n.class)&&(i.classes=v(S(n.class),"relationship"));R(n.title)&&(i.title=S(n.title));R(n.attributedTitle)&&(i.attributedTitle=w(n.attributedTitle).map((e=>{const t=_(e);return{text:S(t.text),...b(t)}})));if(R(n.controlPoints)){const e=e=>"angle"in e&&"number"==typeof e.angle&&"amount"in e&&"number"==typeof e.amount,t=_(n.controlPoints);if(R(t[0])){const n=_(t[0]);i.controlPoint1=e(n)?n:C(n)}if(R(t[1])){const n=_(t[1]);i.controlPoint2=e(n)?n:C(n)}}if(R(n.lineEndPoints)){const e=_(n.lineEndPoints);R(e[0])&&(i.sourceRefPoint=C(e[0])),R(e[1])&&(i.targetRefPoint=C(e[1]))}if(R(n.style)){const e=y(n.style);for(const t in e){const n=t;i[n]=(0,r.yR)(e[n])}}R(n.end1Id)&&(i.source={id:S(n.end1Id)});R(n.end2Id)&&(i.target={id:S(n.end2Id)});return i}(e)),t));if(R(n.extensions)){const e=w(n.extensions);i.extensions={};for(const t of e){const e=_(t),n=e.provider?S(e.provider):null;if(n){const t=e=>{if("number"==typeof e)return e;if("boolean"==typeof e)return e;if("string"==typeof e)return e;if(Array.isArray(e))return e.map((e=>t(e))).filter((e=>null!==e));if("object"==typeof e&&e){const n={},i=e;return Object.keys(i).forEach((e=>{const r=t(i[e]);R(r)&&(n[e]=r)})),n}return null},r=e.content?t(e.content):null,o=e.resourceRefs?w(e.resourceRefs).map((e=>e)).filter((e=>!!e)):[];(r||o.length)&&(i.extensions[n]={content:r,resources:o})}}}if(R(n.theme)){const e=_(n.theme);i.themeStyles={};for(const t in e){const n=y(e[t]);n&&(i.themeStyles[t]=n)}R(e.skeletonThemeId)&&(i.skeletonThemeId=S(e.skeletonThemeId)),R(e.colorThemeId)&&(i.colorThemeId=S(e.colorThemeId))}if(R(n.legend)){const e=_(n.legend);if(R(e.visibility)&&(i.legendVisibility=S(e.visibility)),R(e.position)){const t=_(e.position);R(t.x)&&R(t.y)&&(i.legendPosition=C(e.position))}if(R(e.markers)){const t=_(e.markers??{});i.legendMarkers={};for(const e of Object.keys(t))i.legendMarkers[e]=t[e]}}return i}(e,s))),new o.sv((0,r.vA)(n))}function m(e,t){const n=x(e);t?.(n.id);const i={id:n.id};if(R(n.class)&&(i.classes=v(S(n.class),"topic")),R(n.title)&&(i.title=S(n.title)),R(n.titleUnedited)&&(i.titleUnedited=T(n.titleUnedited)),R(n.attributedTitle)&&(i.attributedTitle=w(n.attributedTitle).map((e=>{const t=_(e);return{text:S(t.text),...b(t)}}))),R(n.notes)){const e=_(n.notes),t={text:null,html:null};R(e.plain)&&R(_(e.plain).content)&&(t.text=S(_(e.plain).content)),R(e.realHTML)&&R(_(e.realHTML).content)&&(t.html=S(_(e.realHTML).content)),i.notes=t}if(R(n.labels)&&(i.labels=w(n.labels).map((e=>S(e)))),R(n.image)){const e=_(n.image);R(e.src)&&(i.imageSource=S(e.src)),R(e.width)&&(i.imageWidth=k(e.width)),R(e.height)&&(i.imageHeight=k(e.height)),R(e.align)&&(i.imagePlacement=S(e.align)),R(e.lockRatio)&&(i.imageLockRatio=T(e.lockRatio)),R(e.borderColor)&&(i.imageBorderLineColor=S(e.borderColor)),R(e.borderWidth)&&(i.imageBorderLineWidth=k(e.borderWidth)),R(e.shadowVisible)&&(i.imageShadowVisible=T(e.shadowVisible)),R(e.opacity)&&(i.imageOpacity=k(e.opacity)),R(e.isMathJaxImage)&&(i.imageIsMathJaxImage=T(e.isMathJaxImage))}if(R(n.href)&&(i.href=S(n.href)),R(n.position)){const e=_(n.position);R(e.x)&&R(e.y)&&(i.position=C(n.position))}if(R(n.branch)&&(i.branchState=S(n.branch)),R(n.structureClass)&&(i.structureClass=S(n.structureClass)),R(n.markers)){const e=[];for(const t of w(n.markers)){const n=_(t);R(n.markerId)&&e.push(S(n.markerId))}e.length&&(i.markers=e)}if(R(n.style)){const e=y(n.style);for(const t in e){const n=t;i[n]=(0,r.yR)(e[n])}}if(R(n.customWidth)&&(i.customWidth=k(n.customWidth)),R(n.extensions)){const e=w(n.extensions);i.extensions={};for(const t of e){const e=_(t),n=R(e.provider)?S(e.provider):null;if(n){const t=e=>{if("number"==typeof e)return e;if("boolean"==typeof e)return e;if("string"==typeof e)return e;if(Array.isArray(e))return e.map((e=>t(e))).filter((e=>null!==e));if("object"==typeof e&&e){const n={},i=e;return Object.keys(i).forEach((e=>{const r=t(i[e]);R(r)&&(n[e]=r)})),n}return null},r=R(e.content)?t(e.content):null,o=R(e.resourceRefs)?w(e.resourceRefs).map((e=>e)).filter((e=>!!e)):[];(r||o.length)&&(i.extensions[n]={content:r,resources:o})}}}if(R(n.children)){const e=_(n.children);R(e.attached)&&(i.children=w(e.attached).map((e=>m(e,t)))),R(e.detached)&&(i.detachedChildren=w(e.detached).map((e=>m(e,t)))),R(e.callout)&&(i.callout=m(w(e.callout)[0],t))}return R(n.boundaries)&&(i.boundaries=w(n.boundaries).map((e=>function(e,t){const n=x(e);t?.(n.id);const i={id:n.id};R(n.class)&&(i.classes=v(S(n.class),"boundary"));R(n.title)&&(i.title=S(n.title));R(n.attributedTitle)&&(i.attributedTitle=w(n.attributedTitle).map((e=>{const t=_(e);return{text:S(t.text),...b(t)}})));if(R(n.style)){const e=y(n.style);for(const t in e){const n=t;i[n]=(0,r.yR)(e[n])}}if(R(n.range)){const e=S(n.range);if("master"===e)i.rangeType="parent";else{i.rangeType="children";const t=e.substring(1,e.length-1).split(",");i.rangeStart=parseInt(t[0]),i.rangeEnd=parseInt(t[1])}}return i}(e,t)))),R(n.summaries)&&(i.summaries=w(n.summaries).map((e=>function(e,t,n){const i=x(e);n?.(i.id);const o={id:i.id};R(i.class)&&(o.classes=v(S(i.class),"summary"));if(R(i.style)){const e=y(i.style);for(const t in e){const n=t;o[n]=(0,r.yR)(e[n])}}const s=S(i.topicId),a=_(t),l=m(w(_(a.children).summary).find((e=>_(e).id===s)),n);if(o.topic=l,R(i.range)){const e=S(i.range),t=e.substring(1,e.length-1).split(",");o.rangeStart=parseInt(t[0]),o.rangeEnd=parseInt(t[1])}return o}(e,n,t)))),i}function g(e){const t=_(e),n={};if(R(t["file-entries"])){const e=_(t["file-entries"]);Object.keys(e).forEach((t=>{const i=_(e[t]),r={};if(R(i["encryption-data"])){const e=_(i["encryption-data"]);R(e["algorithm-name"])&&(r.keyDerivationAlgorithm=S(e["algorithm-name"])),R(e["key-derivation-name"])&&(r.cipherAlgorithm=S(e["key-derivation-name"])),R(e.salt)&&(r.keyDerivationSalt=S(e.salt)),R(e.iv)&&(r.keyDerivationIV=S(e.iv)),R(e.size)&&(r.keyDerivationSize=k(e.size)),R(e["iteration-count"])&&(r.keyDerivationIterationCount=k(e["iteration-count"]))}n[t]=Object.keys(r).length>0?{path:t,encrypted:!0,...r}:{path:t,encrypted:!1}}))}const i={fileEntries:n};return R(t["password-hint"])&&(i.passwordHint=S(t["password-hint"])),i}function y(e){if(null==e||"object"!=typeof e)return null;const t=_(e);if(!t.properties)return null;const n=_(t.properties),i={};if(Object.assign(i,b(n)),R(n["svg:fill"])&&(i.fillColor=S(n["svg:fill"])),R(n["svg:opacity"])&&(i.fillOpacity=S(n["svg:opacity"])),R(n["fill-pattern"])&&(i.fillPattern=S(n["fill-pattern"])),R(n["line-width"])&&(i.lineWidth="number"==typeof n["line-width"]?n["line-width"].toString():S(n["line-width"])),R(n["line-color"])&&(i.lineColor=S(n["line-color"])),R(n["line-pattern"])&&(i.linePattern=S(n["line-pattern"])),R(n["border-line-color"])&&(i.borderLineColor=S(n["border-line-color"])),R(n["border-line-width"])&&(i.borderLineWidth="number"==typeof n["border-line-width"]?n["border-line-width"].toString():S(n["border-line-width"])),R(n["border-line-pattern"])&&(i.borderLinePattern=S(n["border-line-pattern"])),R(n["shape-class"])&&(i.shapeClass=S(n["shape-class"])),R(n["line-class"])&&(i.lineClass=S(n["line-class"])),R(n["arrow-begin-class"])&&(i.arrowBeginClass=S(n["arrow-begin-class"])),R(n["arrow-end-class"])&&(i.arrowEndClass=S(n["arrow-end-class"])),R(n["callout-shape-class"])){const e=S(n["callout-shape-class"]);let t=e;"org.xmind.calloutTopicShape.balloon.ellipse"===e?t="org.xmind.topicShape.ellipse":"org.xmind.calloutTopicShape.balloon.roundedRect"===e?t="org.xmind.topicShape.roundedRect":"org.xmind.calloutTopicShape.balloon.rectangle"===e&&(t="org.xmind.topicShape.rect"),i.shapeClass=t}return R(n["cjk-font-family"])&&(i.cjkFontFamily=S(n["cjk-font-family"])),R(n["multi-line-colors"])&&(i.multiLineColors=S(n["multi-line-colors"])),R(n["color-list"])&&(i.colorList=S(n["color-list"])),R(n["line-tapered"])&&(i.lineTapered=S(n["line-tapered"])),R(n["alignment-by-level"])&&(i.alignmentByLevel=S(n["alignment-by-level"])),R(n["global_line-width"])&&(i.globalLineWidthDisabled=T(n["global_line-width"])),R(n["global_fo:font-family"])&&(i.globalFontFamilyDisabled=T(n["global_fo:font-family"])),i}function b(e){const t=_(e),n={};return R(t["fo:font-family"])&&(n.fontFamily=S(t["fo:font-family"])),R(t["fo:font-size"])&&(n.fontSize="number"==typeof t["fo:font-size"]?t["fo:font-size"].toString():S(t["fo:font-size"])),R(t["fo:font-weight"])&&(n.fontWeight=`${t["fo:font-weight"]}`),R(t["fo:font-style"])&&(n.fontStyle=S(t["fo:font-style"])),R(t["fo:color"])&&(n.textColor=S(t["fo:color"])),R(t["fo:text-transform"])&&(n.textTransform=S(t["fo:text-transform"])),R(t["fo:text-decoration"])&&(n.textDecoration=S(t["fo:text-decoration"])),R(t["fo:text-align"])&&(n.textAlign=S(t["fo:text-align"])),n}function v(e,t){return e.split(" ").filter((e=>!!e&&e!==t))}function _(e){if("object"==typeof e&&null!==e&&!Array.isArray(e))return e;throw new Error(`Not a JSON object: ${JSON.stringify(e)}`)}function w(e){if(Array.isArray(e))return e;throw new Error(`Not a JSON array: ${JSON.stringify(e)}`)}function x(e){const t=_(e);if("id"in t&&"string"==typeof t.id)return t;throw new Error(`No "id" in object: ${JSON.stringify(e)}`)}function S(e){if("string"==typeof e)return e;throw new Error(`Not a JSON string: ${JSON.stringify(e)}`)}function k(e){if("number"==typeof e)return e;throw new Error(`Not a number: ${JSON.stringify(e)}`)}function T(e){if("boolean"==typeof e)return e;throw new Error(`Not a boolean: ${JSON.stringify(e)}`)}function C(e){const t=_(e);if("x"in t&&"y"in t)return{x:k(t.x),y:k(t.y)};throw new Error(`Not a point object: ${JSON.stringify(e)}`)}function R(e){return null!=e}},71381:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,o:()=>r});const i=Object.freeze({CreatorName:"creator/name",CreatorVersion:"creator/version",DataStructureVersion:"dataStructureVersion",LayoutEngineVersion:"layoutEngineVersion",ActiveSheetId:"activeSheetId"});var r;!function(e){e.Root="root",e.Attached="attached",e.Detached="detached",e.Summary="summary",e.Callout="callout"}(r||(r={}))},87494:(e,t,n)=>{"use strict";n.d(t,{B0:()=>c,B1:()=>d,CX:()=>h,KR:()=>l,VZ:()=>p,Yr:()=>f,_V:()=>u,bw:()=>s,iO:()=>o});var i=n(71381),r=n(28897);const o="2",s=Object.freeze({ContentJSON:"content.json",MetadataJSON:"metadata.json",ManifestJSON:"manifest.json",ThumbnailPNG:"Thumbnails/thumbnail.png",ContentXML:"content.xml"}),a='<?xml version="1.0" encoding="UTF-8" standalone="no"?><xmap-content xmlns="urn:xmind:xmap:xmlns:content:2.0" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" modified-by="bruce" timestamp="1503058545540" version="2.0"><sheet id="7abtd0ssc7n4pi1nu6i7b6lsdh" modified-by="bruce" theme="0kdeemiijde6nuk97e4t0vpp54" timestamp="1503058545540"><topic id="1vr0lcte2og4t2sopiogvdmifc" modified-by="bruce" structure-class="org.xmind.ui.logic.right" timestamp="1503058545417"><title>Warning\n警告\nAttention\nWarnung\n경고</title><children><topics type="attached"><topic id="71h1aip2t1o8vvm0a41nausaar" modified-by="bruce" timestamp="1503058545423"><title svg:width="500">This file can not be opened normally, please do not modify and save, otherwise the contents will be permanently lost！</title><children><topics type="attached"><topic id="428akmkh9a0tog6c91qj995qdl" modified-by="bruce" timestamp="1503058545427"><title>You can try using XMind 8 Update 3 or later version to open</title></topic></topics></children></topic><topic id="2kb87f8m38b3hnfhp450c7q35e" modified-by="bruce" timestamp="1503058545434"><title svg:width="500">该文件无法正常打开，请勿修改并保存，否则文件内容将会永久性丢失！</title><children><topics type="attached"><topic id="3m9hoo4a09n53ofl6fohdun99f" modified-by="bruce" timestamp="1503058545438"><title>你可以尝试使用 XMind 8 Update 3 或更新版本打开</title></topic></topics></children></topic><topic id="7r3r4617hvh931ot9obi595r8f" modified-by="bruce" timestamp="1503058545444"><title svg:width="500">該文件無法正常打開，請勿修改並保存，否則文件內容將會永久性丟失！</title><children><topics type="attached"><topic id="691pgka6gmgpgkacaa0h3f1hjb" modified-by="bruce" timestamp="1503058545448"><title>你可以嘗試使用 XMind 8 Update 3 或更新版本打開</title></topic></topics></children></topic><topic id="0f2e3rpkfahg4spg4nda946r0b" modified-by="bruce" timestamp="1503058545453"><title svg:width="500">この文書は正常に開かないので、修正して保存しないようにしてください。そうでないと、書類の内容が永久に失われます。！</title><children><topics type="attached"><topic id="4vuubta53ksc1falk46mevge0t" modified-by="bruce" timestamp="1503058545457"><title>XMind 8 Update 3 や更新版を使って開くこともできます</title></topic></topics></children></topic><topic id="70n9i4u3lb89sq9l1m1bs255j5" modified-by="bruce" timestamp="1503058545463"><title svg:width="500">Datei kann nicht richtig geöffnet werden. Bitte ändern Sie diese Datei nicht und speichern Sie sie, sonst wird die Datei endgültig gelöscht werden.</title><children><topics type="attached"><topic id="1qpc5ee298p2sqeqbinpca46b7" modified-by="bruce" timestamp="1503058545466"><title svg:width="500">Bitte versuchen Sie, diese Datei mit XMind 8 Update 3 oder später zu öffnen.</title></topic></topics></children></topic><topic id="4dmes10uc19pq7enu8sc4bmvif" modified-by="bruce" timestamp="1503058545473"><title svg:width="500">Ce fichier ne peut pas ouvert normalement, veuillez le rédiger et sauvegarder, sinon le fichier sera perdu en permanence. </title><children><topics type="attached"><topic id="5f0rivgubii2launodiln7sdkt" modified-by="bruce" timestamp="1503058545476"><title svg:width="500">Vous pouvez essayer d\'ouvrir avec XMind 8 Update 3 ou avec une version plus récente.</title></topic></topics></children></topic><topic id="10pn1os1sgfsnqa8akabom5pej" modified-by="bruce" timestamp="1503058545481"><title svg:width="500">파일을 정상적으로 열 수 없으며, 수정 및 저장하지 마십시오. 그렇지 않으면 파일의 내용이 영구적으로 손실됩니다!</title><children><topics type="attached"><topic id="0l2nr0fq3em22rctapkj46ue58" modified-by="bruce" timestamp="1503058545484"><title svg:width="500">XMind 8 Update 3 또는 이후 버전을 사용하여</title></topic></topics></children></topic></topics></children><extensions><extension provider="org.xmind.ui.map.unbalanced"><content><right-number>-1</right-number></content></extension></extensions></topic><title>Sheet 1</title></sheet></xmap-content>';async function l(e,t,n,i={}){const{additionalResources:o=[],passwordHint:l}=i,{content:c,metadata:u,resources:d}=(0,r.hX)(e),h={},p=async(e,t)=>{const n={path:e,encryptable:!0};await t(n),h[e]={...n,encrypted:!!n.cipherAlgorithm}};await p(s.ContentJSON,(e=>t(e,JSON.stringify(c)))),await p(s.MetadataJSON,(e=>t(e,JSON.stringify(u))));for(const e of d)await p(e,n);for(const e of o)await p(e,n);const f=(0,r.bi)({fileEntries:h,...l?{passwordHint:l}:{}});await t({path:s.ManifestJSON,encryptable:!1},JSON.stringify(f)),await t({path:s.ContentXML,encryptable:!1},a)}function c(e,t){const{creatorName:n,creatorVersion:r,debugDataStructureVersion:s,...a}=t;let l=e.asMutable().metadataFor(i.K.CreatorName,n).metadataFor(i.K.CreatorVersion,r).metadataFor(i.K.DataStructureVersion,s??o);for(const[e,t]of Object.entries(a))l=l.metadataFor(e,t);return l.commit()}var u;function d(e){const t=e.metadataFor(i.K.DataStructureVersion);if(t===o)return null;if(!t)return u.OverridingLowerVersionDataStructure;const n=parseInt(t);return!n||isNaN(n)||n<parseInt(o)?u.OverridingLowerVersionDataStructure:null}async function h(e,t,n={}){const{skipsDataStructureCheck:a=!1}=n,l=await e({path:s.ManifestJSON,encrypted:!1}),c=(0,r.JJ)(JSON.parse(l)),u=e=>c.fileEntries[e]??{path:e,encrypted:!0},d=u(s.ContentJSON),h=u(s.MetadataJSON);try{const n=JSON.parse(await e(h)),l=function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return"";const t=e[i.K.DataStructureVersion];if("string"!=typeof t)return"";return t}(n);if(!a&&function(e){if(!e)return!1;const t=parseInt(e);if(!t||isNaN(t))return!1;const n=parseInt(o);return t>n}(l))throw new p(l);const f=JSON.parse(await e(d)),m=(0,r.CW)(f,n);for(const e in c.fileEntries)e!==s.ContentJSON&&e!==s.MetadataJSON&&e!==s.ManifestJSON&&e!==s.ContentXML&&await t(u(e));return m}catch(e){if(d.encrypted)throw new f(c.passwordHint??"");throw e}}!function(e){e.OverridingLowerVersionDataStructure="override-lower-version"}(u||(u={}));class p extends Error{constructor(e){super("Unsupported data structure version: "+e),this.dataStructureVersion=e}}class f extends Error{constructor(e){super("Wrong password or corrupted file"),this.passwordHint=e}}},97234:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>s});var r=/^\s+/,o=/\s+$/;function s(e,t){if(t=t||{},(e=e||"")instanceof s)return e;if(!(this instanceof s))return new s(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,s=null,a=null,l=null,c=!1,u=!1;"string"==typeof e&&(e=function(e){e=e.replace(r,"").replace(o,"").toLowerCase();var t,n=!1;if(S[e])e=S[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=M.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=M.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=M.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=M.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=M.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=M.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=M.hex8.exec(e))return{r:O(t[1]),g:O(t[2]),b:O(t[3]),a:D(t[4]),format:n?"name":"hex8"};if(t=M.hex6.exec(e))return{r:O(t[1]),g:O(t[2]),b:O(t[3]),format:n?"name":"hex"};if(t=M.hex4.exec(e))return{r:O(t[1]+""+t[1]),g:O(t[2]+""+t[2]),b:O(t[3]+""+t[3]),a:D(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=M.hex3.exec(e))return{r:O(t[1]+""+t[1]),g:O(t[2]+""+t[2]),b:O(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==i(e)&&(W(e.r)&&W(e.g)&&W(e.b)?(d=e.r,h=e.g,p=e.b,t={r:255*C(d,255),g:255*C(h,255),b:255*C(p,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(s=A(e.s),a=A(e.v),t=function(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),s=n*(1-r*t),a=n*(1-(1-r)*t),l=i%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*d}}(e.h,s,a),c=!0,u="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(s=A(e.s),l=A(e.l),t=function(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,s,l),c=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a));var d,h,p;return n=T(n),{ok:c,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function a(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:a}}function l(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:a}}function c(e,t,n,i){var r=[I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function u(e,t,n,i){return[I(E(i)),I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(n).toString(16))].join("")}function d(e,t){t=0===t?0:t||10;var n=s(e).toHsl();return n.s-=t/100,n.s=R(n.s),s(n)}function h(e,t){t=0===t?0:t||10;var n=s(e).toHsl();return n.s+=t/100,n.s=R(n.s),s(n)}function p(e){return s(e).desaturate(100)}function f(e,t){t=0===t?0:t||10;var n=s(e).toHsl();return n.l+=t/100,n.l=R(n.l),s(n)}function m(e,t){t=0===t?0:t||10;var n=s(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),s(n)}function g(e,t){t=0===t?0:t||10;var n=s(e).toHsl();return n.l-=t/100,n.l=R(n.l),s(n)}function y(e,t){var n=s(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,s(n)}function b(e){var t=s(e).toHsl();return t.h=(t.h+180)%360,s(t)}function v(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=s(e).toHsl(),i=[s(e)],r=360/t,o=1;o<t;o++)i.push(s({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function _(e){var t=s(e).toHsl(),n=t.h;return[s(e),s({h:(n+72)%360,s:t.s,l:t.l}),s({h:(n+216)%360,s:t.s,l:t.l})]}function w(e,t,n){t=t||6,n=n||30;var i=s(e).toHsl(),r=360/n,o=[s(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(s(i));return o}function x(e,t){t=t||6;for(var n=s(e).toHsv(),i=n.h,r=n.s,o=n.v,a=[],l=1/t;t--;)a.push(s({h:i,s:r,v:o})),o=(o+l)%1;return a}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var o=[I(Math.round(e).toString(16)),I(Math.round(t).toString(16)),I(Math.round(n).toString(16)),I(E(i))];if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*C(this._r,255))+"%",g:Math.round(100*C(this._g,255))+"%",b:Math.round(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%)":"rgba("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(k[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+u(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=s(e);n="#"+u(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return s(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(v,[3])},tetrad:function(){return this._applyCombination(v,[4])}},s.fromRatio=function(e,t){if("object"==i(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:A(e[r]));e=n}return s(e,t)},s.equals=function(e,t){return!(!e||!t)&&s(e).toRgbString()==s(t).toRgbString()},s.random=function(){return s.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},s.mix=function(e,t,n){n=0===n?0:n||50;var i=s(e).toRgb(),r=s(t).toRgb(),o=n/100;return s({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},s.readability=function(e,t){var n=s(e),i=s(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)},s.isReadable=function(e,t,n){var i,r,o=s.readability(e,t);switch(r=!1,(i=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},s.mostReadable=function(e,t,n){var i,r,o,a,l=null,c=0;r=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<t.length;u++)(i=s.readability(e,t[u]))>c&&(c=i,l=s(t[u]));return s.isReadable(e,l,{level:o,size:a})||!r?l:(n.includeFallbackColors=!1,s.mostReadable(e,["#fff","#000"],n))};var S=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},k=s.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(S);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return Math.min(1,Math.max(0,e))}function O(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function A(e){return e<=1&&(e=100*e+"%"),e}function E(e){return Math.round(255*parseFloat(e)).toString(16)}function D(e){return O(e)/255}var P,j,L,M=(j="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",L="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(e){return!!M.CSS_UNIT.exec(e)}}},e=>{e.O(0,[8270,1505],(()=>{return t=74658,e(e.s=t);var t}));var t=e.O();module.exports=t}]);