(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[7043],{51506:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n(23645),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,".container-mask[data-v-7a16d07f] {\n  position: absolute;\n  width: 100%;\n  height: 232px;\n  background: transparent;\n}\n.link-box[data-v-7a16d07f] {\n  height: 26px;\n}\n#editorContainer[data-v-7a16d07f] a {\n  text-decoration: underline;\n}\n#editorContainer[data-v-7a16d07f] pre {\n  white-space: pre-wrap;\n}\n.dark-theme[data-v-7a16d07f] {\n  --notes-editor-frozen-background-color: #5c6064;\n}\n.dark-theme[data-v-7a16d07f] .notes-editor-frozen {\n  color: #fafafb;\n  text-shadow: none;\n}\n.dark-theme[data-v-7a16d07f] ::selection {\n  background-color: rgba(92, 190, 255, 0.5);\n}\n.default-theme[data-v-7a16d07f] {\n  --notes-editor-frozen-background-color: #dadadb;\n}\n.default-theme[data-v-7a16d07f] .notes-editor-frozen {\n  color: #27292a;\n  text-shadow: none;\n}\n.link-input-box[data-v-7a16d07f] {\n  width: 342px;\n}\n.link-input-box[data-v-7a16d07f]:focus {\n  box-shadow: none;\n  border: 1px solid #0f66de;\n}\n",""]);const r=i},10454:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n(23645),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,".topic-popover-overlay {\n  display: block;\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1010;\n  background-color: transparent;\n  border: none;\n}\n",""]);const r=i},32667:(t,e,n)=>{var o=n(9950),i=n(6771);n(17381);function r(t){return null==t}function a(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).whiteList=t.whiteList||o.whiteList,t.onAttr=t.onAttr||o.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||o.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||o.safeAttrValue,this.options=t}a.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,o=e.onAttr,a=e.onIgnoreAttr,s=e.safeAttrValue;return i(t,(function(t,e,i,l,u){var c=n[i],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(l):c instanceof RegExp&&(d=c.test(l)),!0!==d&&(d=!1),l=s(i,l)){var p,f={position:e,sourcePosition:t,source:u,isWhite:d};return d?r(p=o(i,l,f))?i+":"+l:p:r(p=a(i,l,f))?void 0:p}}))},t.exports=a},9950:(t,e)=>{function n(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var o=/javascript\s*\:/gim;e.whiteList=n(),e.getDefaultWhiteList=n,e.onAttr=function(t,e,n){},e.onIgnoreAttr=function(t,e,n){},e.safeAttrValue=function(t,e){return o.test(e)?"":e}},29970:(t,e,n)=>{var o=n(9950),i=n(32667);for(var r in(e=t.exports=function(t,e){return new i(e).process(t)}).FilterCSS=i,o)e[r]=o[r];"undefined"!=typeof window&&(window.filterCSS=t.exports)},6771:(t,e,n)=>{var o=n(17381);t.exports=function(t,e){";"!==(t=o.trimRight(t))[t.length-1]&&(t+=";");var n=t.length,i=!1,r=0,a=0,s="";function l(){if(!i){var n=o.trim(t.slice(r,a)),l=n.indexOf(":");if(-1!==l){var u=o.trim(n.slice(0,l)),c=o.trim(n.slice(l+1));if(u){var d=e(r,s.length,u,c,n);d&&(s+=d+"; ")}}}r=a+1}for(;a<n;a++){var u=t[a];if("/"===u&&"*"===t[a+1]){var c=t.indexOf("*/",a+2);if(-1===c)break;r=(a=c+1)+1,i=!1}else"("===u?i=!0:")"===u?i=!1:";"===u?i||l():"\n"===u&&l()}return o.trim(s)}},17381:t=>{t.exports={indexOf:function(t,e){var n,o;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var o,i;if(Array.prototype.forEach)return t.forEach(e,n);for(o=0,i=t.length;o<i;o++)e.call(n,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}},96874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},34865:(t,e,n)=>{var o=n(89465),i=n(77813),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];r.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||o(t,e,n)}},89465:(t,e,n)=>{var o=n(38777);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},21078:(t,e,n)=>{var o=n(62488),i=n(37285);t.exports=function t(e,n,r,a,s){var l=-1,u=e.length;for(r||(r=i),s||(s=[]);++l<u;){var c=e[l];n>0&&r(c)?n>1?t(c,n-1,r,a,s):o(s,c):a||(s[s.length]=c)}return s}},25970:(t,e,n)=>{var o=n(63012),i=n(79095);t.exports=function(t,e){return o(t,e,(function(e,n){return i(t,n)}))}},63012:(t,e,n)=>{var o=n(97786),i=n(10611),r=n(71811);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var u=e[a],c=o(t,u);n(c,u)&&i(l,r(u,t),c)}return l}},10611:(t,e,n)=>{var o=n(34865),i=n(71811),r=n(65776),a=n(13218),s=n(40327);t.exports=function(t,e,n,l){if(!a(t))return t;for(var u=-1,c=(e=i(e,t)).length,d=c-1,p=t;null!=p&&++u<c;){var f=s(e[u]),g=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(u!=d){var v=p[f];void 0===(g=l?l(v,f,p):void 0)&&(g=a(v)?v:r(e[u+1])?[]:{})}o(p,f,g),p=p[f]}return t}},56560:(t,e,n)=>{var o=n(75703),i=n(38777),r=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;t.exports=a},38777:(t,e,n)=>{var o=n(10852),i=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},99021:(t,e,n)=>{var o=n(85564),i=n(45357),r=n(30061);t.exports=function(t){return r(i(t,void 0,o),t+"")}},37285:(t,e,n)=>{var o=n(62705),i=n(35694),r=n(1469),a=o?o.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||i(t)||!!(a&&t&&t[a])}},45357:(t,e,n)=>{var o=n(96874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=i(r.length-e,0),l=Array(s);++a<s;)l[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=n(l),o(t,this,u)}}},30061:(t,e,n)=>{var o=n(56560),i=n(21275)(o);t.exports=i},21275:t=>{var e=Date.now;t.exports=function(t){var n=0,o=0;return function(){var i=e(),r=16-(i-o);if(o=i,r>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},75703:t=>{t.exports=function(t){return function(){return t}}},85564:(t,e,n)=>{var o=n(21078);t.exports=function(t){return(null==t?0:t.length)?o(t,1):[]}},78718:(t,e,n)=>{var o=n(25970),i=n(99021)((function(t,e){return null==t?{}:o(t,e)}));t.exports=i},17043:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var o=n(2954),i=n(17462),r=n(84374),a=n(19741),s=n(78152),l=n(63111),u=n(54856),c=n(90435),d=n(85786),p=n(68924),f=n.n(p);var g=n(46016),v=n(53419);const h=(0,o.aZ)({__name:"note-editor",setup(t){const e={inserted:function(t){setTimeout((()=>t.focus()))}},n=i.Type.TextStyles,h=(0,o.iH)(null),m=(0,o.iH)(!1),{link:b,topicRect:k,notesEditor:w,editorContainer:x,isLinkInputVisible:y,isContainerFocused:C,setLink:L,saveNote:T,showLinkInput:A,closeLinkInput:S,updateSelectionStyle:I}=(()=>{const{T:t}=(0,s.JE)(),{registerCommands:e,unregisterCommands:n}=(0,a.y)(),{executeAction:g,executePropertyAction:v,domRectForSelection:h,syncedProperties:m,selection:b}=(0,r.nZ)(),k=(0,o.Fl)((()=>{var t;return null===(t=b.value)||void 0===t?void 0:t.modelIds})),w=(0,o.iH)(""),x=(0,o.iH)(),y=(0,o.iH)(!1),C=(0,o.iH)(!1),L=(0,o.iH)(),T=(0,o.Fl)((()=>{const{height:t,width:e,x:n,y:o}=h.value||{height:0,width:0,x:0,y:0};return{height:t,width:e,left:n||0,top:o||0}}));(0,o.bv)((()=>{x.value&&(L.value=new i.Editor({container:x.value}),setTimeout((()=>{L.value.focus()}),100),(0,o.YP)((()=>{var t,e;return null===(e=null===(t=m.value)||void 0===t?void 0:t.notes)||void 0===e?void 0:e.value}),(t=>{if(!t)return;const e={plain:{content:null==t?void 0:t.text},realHTML:{content:(null==t?void 0:t.html)?f()(t.html,{onIgnoreTag:(t,e)=>{if("xmind-autolink"===t)return e},safeAttrValue:(t,e,n,o)=>"a"===t&&"href"===e?n:(0,p.safeAttrValue)(t,e,n,o)}):null==t?void 0:t.html}};L.value.setNoteData(e),setTimeout((()=>{L.value.focus()}),100)}),{immediate:!0}),x.value.addEventListener("focus",S),x.value.addEventListener("blur",I),x.value.addEventListener("link-activated",_),e([{id:"notes.removeLink",provider:`editor/${window.editorId}/notes`,enabledFn:()=>!0,handler:()=>{L.value&&L.value.removeLink()}},{id:"notes.editLink",provider:`editor/${window.editorId}/notes`,enabledFn:()=>!0,handler:()=>{L.value&&A()}}]))})),(0,o.Jd)((()=>{x.value&&(x.value.removeEventListener("focus",S),x.value.removeEventListener("blur",I),x.value.removeEventListener("link-activated",_),n([{id:"notes.removeLink",provider:`editor/${window.editorId}/notes`},{id:"notes.editLink",provider:`editor/${window.editorId}/notes`}]))}));const A=()=>{y.value=!0,L.value.autoFitLinkSelectedRange(),L.value.setSelectionStyle(i.Type.TextStyles.frozen,null,{isCanUndo:!1});const t=L.value.getSingleWholeLink();w.value=t||""},S=()=>C.value=!0,I=()=>C.value=!1,_=e=>{if(!l.nd)return(0,d.DL)(e.detail.href,t);c.ZP.fetch(u.QN)};return{link:w,topicRect:T,notesEditor:L,editorContainer:x,isLinkInputVisible:y,isContainerFocused:C,setLink:()=>{L.value.setLink(w.value),w.value=""},saveNote:()=>{var t,e;if(!L.value.canUndo())return;const n=L.value.getNoteData();if(!n)return void v({name:"mutateProperty:notes",inputValue:null});const o={text:null===(t=n.plain)||void 0===t?void 0:t.content,html:null===(e=n.realHTML)||void 0===e?void 0:e.content};g({name:"mutateTarget:notes",payload:{topicIds:k.value,notes:o}})},showLinkInput:A,closeLinkInput:()=>{y.value=!1,L.value.removeSelectionStyle(i.Type.TextStyles.frozen,{isCanUndo:!1}),L.value.focus()},updateSelectionStyle:t=>{L.value&&L.value.toggleSelectionStyle(t)}}})(),{T:_}=(0,s.JE)(),{setPopoverEditorVisible:E}=(0,g.$)(),P=(0,o.Fl)((()=>[{title:_("bold"),icon:"icon: bold",disabled:y.value,handler:()=>I(n.bold)},{title:_("italic"),icon:"icon: italic",disabled:y.value,handler:()=>I(n.italic)},{title:_("underline"),icon:"icon: underline",disabled:y.value,handler:()=>I(n.underline)},{title:_("unordered list"),icon:"icon: unordered-list",disabled:y.value,handler:()=>I(n.bullet)},{title:_("ordered list"),icon:"icon: ordered-list",disabled:y.value,handler:()=>I(n.number)},{title:_("link"),icon:"icon: link",disabled:!1,handler:V}])),F=(0,o.Fl)((()=>`${(0,s.S)().theme}-theme`)),V=()=>{y.value?S():A()};return(0,o.bv)((()=>{const t=x.value.querySelector("trix-editor");t.style.overflowY="scroll",void 0!==t&&t.addEventListener("keydown",(t=>{9==t.keyCode&&t.preventDefault()}))})),{__sfc:!0,vFocus:e,textStyles:n,linkInputBox:h,isComposition:m,link:b,topicRect:k,notesEditor:w,editorContainer:x,isLinkInputVisible:y,isContainerFocused:C,setLink:L,saveNote:T,showLinkInput:A,closeLinkInput:S,updateSelectionStyle:I,$T:_,setPopoverEditorVisible:E,noteControlBtnGroup:P,editorContainerClass:F,onMousedown:t=>{w.value&&(t.target!==h.value?w.value.container.contains(t.target)&&t.target!==w.value.container||(t.preventDefault(),t.stopPropagation()):h.value.focus())},toggleLinkInputVisible:V,onLinkInputKeyDown:t=>{m.value||(["Tab","Enter"].includes(t.key)&&t.preventDefault(),"Enter"===t.key&&L())},onContainerMaskClick:()=>w.value.focus(),saveAndClose:()=>{T(),"notes"===(0,g.$)().popoverEditorVisible&&E("")},TopicPopoverContainer:v.Z}}});n(29564);const m=(0,n(51900).Z)(h,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.TopicPopoverContainer,{directives:[{name:"show",rawName:"v-show",value:0!==n.topicRect.width,expression:"topicRect.width !== 0"}],attrs:{"popover-height":280,"popover-width":400,"topic-height":n.topicRect.height,"topic-width":n.topicRect.width,"topic-left":n.topicRect.left,"topic-top":n.topicRect.top},on:{"popover-close":n.saveAndClose}},[e("div",{staticClass:"uk-padding uk-padding-remove-top uk-padding-remove-horizontal",on:{mousedown:n.onMousedown}},[e("div",{staticClass:"uk-flex uk-flex-column"},[e("div",{staticClass:"uk-flex uk-flex-row uk-flex-center uk-padding-xsmall"},t._l(n.noteControlBtnGroup,(function(t){return e("button",{staticClass:"uk-button uk-button-tile uk-button-small uk-button-icon uk-icon uk-padding-xsmall",attrs:{title:t.title,"uk-icon":t.icon,disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.handler.apply(null,arguments)}}})})),0)]),t._v(" "),e("div",{staticClass:"uk-overflow-hidden"},[e("transition",{attrs:{"enter-active-class":"uk-animation-slide-top uk-animation-fast ","leave-active-class":"uk-animation-slide-top uk-animation-fast uk-animation-reverse"}},[n.isLinkInputVisible?e("div",{staticClass:"uk-flex uk-padding uk-padding-remove-top uk-padding-remove-bottom uk-flex-middle link-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.link,expression:"link"},{name:"focus",rawName:"v-focus"}],ref:"linkInputBox",staticClass:"uk-input link-input-box",attrs:{placeholder:n.$T("Enter Link URL")},domProps:{value:n.link},on:{blur:n.closeLinkInput,compositionstart:function(t){n.isComposition=!0},compositionend:function(t){n.isComposition=!1},keydown:n.onLinkInputKeyDown,input:function(t){t.target.composing||(n.link=t.target.value)}}}),t._v(" "),e("button",{staticClass:"uk-button uk-button-tile uk-button-small uk-button-icon uk-icon uk-padding-xsmall",staticStyle:{"margin-left":"4px"},attrs:{"uk-icon":"icon: check"},on:{click:n.setLink}})]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!n.isContainerFocused,expression:"!isContainerFocused"}],staticClass:"container-mask",on:{click:n.onContainerMaskClick}}),t._v(" "),e("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:no-effect",arg:"no-effect"}],ref:"editorContainer",staticClass:"uk-width-1-1 uk-padding uk-padding-remove-vertical uk-overflow-hidden",class:n.editorContainerClass,staticStyle:{cursor:"text","padding-right":"5px"},style:{height:n.isLinkInputVisible?"206px":"232px"},attrs:{id:"editorContainer"}})],1)])])}),[],!1,null,"7a16d07f",null).exports},53419:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var o=n(2954),i=n(78718),r=n.n(i),a=n(84374),s=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function a(t){try{l(o.next(t))}catch(t){r(t)}}function s(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((o=o.apply(t,e||[])).next())}))};const l=(0,o.aZ)({__name:"topic-popover-container",props:{topicHeight:null,topicWidth:null,topicLeft:null,topicTop:null,popoverWidth:null,popoverHeight:null,viewPortPadding:null,autoShowOnMounted:null},emits:["popover-close"],setup(t,{emit:e}){const n=t,i=(0,o.FN)(),l=(0,o.iH)(null),u=(0,o.Fl)((()=>{const{viewPortPadding:t}=n;return void 0===t?16:t})),c=(0,o.Fl)((()=>{const{autoShowOnMounted:t}=n;return void 0===t||t})),d=(0,o.Fl)((()=>({top:n.topicTop+"px",left:n.topicLeft+"px",width:n.topicWidth+"px",height:n.topicHeight+"px"}))),p=t=>{const e=t.getBoundingClientRect();return Object.assign({},r()(e,"top","left","right","bottom","width","height"),{offsetTop:t.offsetTop,offsetLeft:t.offsetLeft})},f=()=>{const t=document.querySelector("#editor-container");return t?p(t):null},g=()=>{const t=f();if(!t)return!1;const{popoverHeight:e,popoverWidth:o,topicTop:i,topicLeft:r,topicWidth:s,topicHeight:l}=n,c=r+f().left,d=i+f().top,p=t.offsetTop>d,g=t.offsetTop+t.height<l+d+e,v=c-(t.left+t.offsetLeft)<o/2-s/2,h=t.left+t.offsetLeft+t.width<c+s/2+o/2,m=l+e>t.height,b=s>t.width;let k=t.offsetLeft,w=t.offsetTop;p&&(w=d-u.value),g&&(w=d+l+n.popoverHeight-t.height+u.value),m&&(w=Math.max(l-t.height,0)+d+n.popoverHeight);const x=Math.max((n.popoverWidth-s)/2,0);if(v&&(k=c-t.left-u.value-x),h&&(k=c-t.left+s-t.width+x+u.value),b&&(k=c+x),p||g||v||h||m||b){const{moveViewport:t}=(0,a.nZ)();return t(k,w),!0}return!0},v=()=>s(this,void 0,void 0,(function*(){if(!(yield g()))return h(!1);h(!0)})),h=t=>{setTimeout((()=>{i.proxy.$withUIKit((e=>{const n=e.pop(l.value);n&&(t?n.show():n.hide())}))}),50)};return(0,o.bv)((()=>{c.value&&v(),(0,o.Y3)((()=>{i.proxy.$withUIKit((t=>{t.util.on(l.value,"hidden",(()=>{e("popover-close")}))}))}))})),{__sfc:!0,props:n,emits:e,vm:i,popoverEl:l,viewPortPadding:u,isAutoShowOnMounted:c,topicRectStyle:d,getElementRect:p,getWindowBounds:f,moveViewport:g,showPopover:v,_togglePopover:h}}});n(19455);const u=(0,n(51900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"focus-contexts",rawName:"v-focus-contexts:group",value:["focus.popover"],expression:"['focus.popover']",arg:"group"}]},[e("div",{staticClass:"uk-position-absolute",style:t._self._setupProxy.topicRectStyle}),t._v(" "),e("div",{ref:"popoverEl",style:{width:t.popoverWidth+"px",height:t.popoverHeight+"px"??"auto"},attrs:{"uk-popover":"","data-cls-overlay":"topic-popover-overlay"}},[t._t("default")],2)])}),[],!1,null,null,null).exports},29564:(t,e,n)=>{var o=n(51506);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,n(45346).Z)("143e83eb",o,!0,{})},19455:(t,e,n)=>{var o=n(10454);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);(0,n(45346).Z)("b6d891a8",o,!0,{})},82302:(t,e,n)=>{var o=n(29970).FilterCSS,i=n(29970).getDefaultWhiteList,r=n(75938);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new o;function l(t){return t.replace(u,"&lt;").replace(c,"&gt;")}var u=/</g,c=/>/g,d=/"/g,p=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,g=/&colon;?/gim,v=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,m=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function k(t){return t.replace(d,"&quot;")}function w(t){return t.replace(p,'"')}function x(t){return t.replace(f,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function y(t){return t.replace(g,":").replace(v," ")}function C(t){for(var e="",n=0,o=t.length;n<o;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return r.trim(e)}function L(t){return t=C(t=y(t=x(t=w(t))))}function T(t){return t=l(t=k(t))}e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},e.getDefaultWhiteList=a,e.onTag=function(t,e,n){},e.onIgnoreTag=function(t,e,n){},e.onTagAttr=function(t,e,n){},e.onIgnoreTagAttr=function(t,e,n){},e.safeAttrValue=function(t,e,n,o){if(n=L(n),"href"===e||"src"===e){if("#"===(n=r.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===e){if(h.lastIndex=0,h.test(n))return""}else if("style"===e){if(m.lastIndex=0,m.test(n))return"";if(b.lastIndex=0,b.test(n)&&(h.lastIndex=0,h.test(n)))return"";!1!==o&&(n=(o=o||s).process(n))}return n=T(n)},e.escapeHtml=l,e.escapeQuote=k,e.unescapeQuote=w,e.escapeHtmlEntities=x,e.escapeDangerHtml5Entities=y,e.clearNonPrintableCharacter=C,e.friendlyAttrValue=L,e.escapeAttrValue=T,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),o=[],i=!1;return{onIgnoreTag:function(a,s,l){if(function(e){return!!n||-1!==r.indexOf(t,e)}(a)){if(l.isClosing){var u="[/removed]",c=l.position+10;return o.push([!1!==i?i:l.position,c]),i=!1,u}return i||(i=l.position),"[removed]"}return e(a,s,l)},remove:function(t){var e="",n=0;return r.forEach(o,(function(o){e+=t.slice(n,o[0]),n=o[1]})),e+=t.slice(n)}}},e.stripCommentTag=function(t){for(var e="",n=0;n<t.length;){var o=t.indexOf("\x3c!--",n);if(-1===o){e+=t.slice(n);break}e+=t.slice(n,o);var i=t.indexOf("--\x3e",o);if(-1===i)break;n=i+3}return e},e.stripBlankChar=function(t){var e=t.split("");return(e=e.filter((function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}))).join("")},e.cssFilter=s,e.getDefaultCSSWhiteList=i},68924:(t,e,n)=>{var o=n(82302),i=n(73268),r=n(82973);function a(t,e){return new r(e).process(t)}(e=t.exports=a).filterXSS=a,e.FilterXSS=r,function(){for(var t in o)e[t]=o[t];for(var n in i)e[n]=i[n]}(),"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)},73268:(t,e,n)=>{var o=n(75938);function i(t){var e,n=o.spaceIndex(t);return e=-1===n?t.slice(1,-1):t.slice(1,n+1),"/"===(e=o.trim(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function r(t){return"</"===t.slice(0,2)}var a=/[^a-zA-Z0-9\\_:.-]/gim;function s(t,e){for(;e<t.length;e++){var n=t[e];if(" "!==n)return"="===n?e:-1}}function l(t,e){for(;e<t.length;e++){var n=t[e];if(" "!==n)return"'"===n||'"'===n?e:-1}}function u(t,e){for(;e>0;e--){var n=t[e];if(" "!==n)return"="===n?e:-1}}function c(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}e.parseTag=function(t,e,n){"use strict";var o="",a=0,s=!1,l=!1,u=0,c=t.length,d="",p="";t:for(u=0;u<c;u++){var f=t.charAt(u);if(!1===s){if("<"===f){s=u;continue}}else if(!1===l){if("<"===f){o+=n(t.slice(a,u)),s=u,a=u;continue}if(">"===f||u===c-1){o+=n(t.slice(a,s)),d=i(p=t.slice(s,u+1)),o+=e(s,o.length,d,p,r(p)),a=u+1,s=!1;continue}if('"'===f||"'"===f)for(var g=1,v=t.charAt(u-g);""===v.trim()||"="===v;){if("="===v){l=f;continue t}v=t.charAt(u-++g)}}else if(f===l){l=!1;continue}}return a<c&&(o+=n(t.substr(a))),o},e.parseAttr=function(t,e){"use strict";var n=0,i=0,r=[],d=!1,p=t.length;function f(t,n){if(!((t=(t=o.trim(t)).replace(a,"").toLowerCase()).length<1)){var i=e(t,n||"");i&&r.push(i)}}for(var g=0;g<p;g++){var v,h=t.charAt(g);if(!1!==d||"="!==h)if(!1===d||g!==i)if(/\s|\n|\t/.test(h)){if(t=t.replace(/\s|\n|\t/g," "),!1===d){if(-1===(v=s(t,g))){f(o.trim(t.slice(n,g))),d=!1,n=g+1;continue}g=v-1;continue}if(-1===(v=u(t,g-1))){f(d,c(o.trim(t.slice(n,g)))),d=!1,n=g+1;continue}}else;else{if(-1===(v=t.indexOf(h,g+1)))break;f(d,o.trim(t.slice(i+1,v))),d=!1,n=(g=v)+1}else d=t.slice(n,g),n=g+1,i='"'===t.charAt(n)||"'"===t.charAt(n)?n:l(t,g+1)}return n<t.length&&(!1===d?f(t.slice(n)):f(d,c(o.trim(t.slice(n))))),o.trim(r.join(" "))}},75938:t=>{t.exports={indexOf:function(t,e){var n,o;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var o,i;if(Array.prototype.forEach)return t.forEach(e,n);for(o=0,i=t.length;o<i;o++)e.call(n,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}}},82973:(t,e,n)=>{var o=n(29970).FilterCSS,i=n(82302),r=n(73268),a=r.parseTag,s=r.parseAttr,l=n(75938);function u(t){return null==t}function c(t){(t=function(t){var e={};for(var n in t)e[n]=t[n];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=i.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var e={};for(var n in t)Array.isArray(t[n])?e[n.toLowerCase()]=t[n].map((function(t){return t.toLowerCase()})):e[n.toLowerCase()]=t[n];return e}(t.whiteList||t.allowList):t.whiteList=i.whiteList,t.onTag=t.onTag||i.onTag,t.onTagAttr=t.onTagAttr||i.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||i.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||i.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||i.safeAttrValue,t.escapeHtml=t.escapeHtml||i.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new o(t.css))}c.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,n=e.whiteList,o=e.onTag,r=e.onIgnoreTag,c=e.onTagAttr,d=e.onIgnoreTagAttr,p=e.safeAttrValue,f=e.escapeHtml,g=this.cssFilter;e.stripBlankChar&&(t=i.stripBlankChar(t)),e.allowCommentTag||(t=i.stripCommentTag(t));var v=!1;e.stripIgnoreTagBody&&(v=i.StripTagBody(e.stripIgnoreTagBody,r),r=v.onIgnoreTag);var h=a(t,(function(t,e,i,a,v){var h={sourcePosition:t,position:e,isClosing:v,isWhite:Object.prototype.hasOwnProperty.call(n,i)},m=o(i,a,h);if(!u(m))return m;if(h.isWhite){if(h.isClosing)return"</"+i+">";var b=function(t){var e=l.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var n="/"===(t=l.trim(t.slice(e+1,-1)))[t.length-1];return n&&(t=l.trim(t.slice(0,-1))),{html:t,closing:n}}(a),k=n[i],w=s(b.html,(function(t,e){var n=-1!==l.indexOf(k,t),o=c(i,t,e,n);return u(o)?n?(e=p(i,t,e,g))?t+'="'+e+'"':t:u(o=d(i,t,e,n))?void 0:o:o}));return a="<"+i,w&&(a+=" "+w),b.closing&&(a+=" /"),a+=">"}return u(m=r(i,a,h))?f(a):m}),f);return v&&(h=v.remove(h)),h},t.exports=c}}]);