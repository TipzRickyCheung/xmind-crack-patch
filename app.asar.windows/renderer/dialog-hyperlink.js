(global.webpackChunkxmind_vana=global.webpackChunkxmind_vana||[]).push([[5656],{78169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".dialog-hyperlink-tips {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  font-weight: 600;\n  font-size: 14px;\n}\n",""]);const o=i},23464:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(23645),i=n.n(a)()((function(e){return e[1]}));i.push([e.id,".drop-down-item-group[data-v-577acb92] {\n  padding-left: 28px;\n  padding-right: 8px;\n  min-hight: 24px;\n  color: #949699;\n}\n",""]);const o=i},18409:(e,t,n)=>{"use strict";n.r(t);var a=n(22244),i=n(2954),o=n(67657),s=n(18621),l=n(95246),r=n(63477),u=n.n(r),c=n(90435),d=n(54856);var p=n(23279),f=n.n(p),m=n(69931),h=n(11248),v=n.n(h);const b='{"v":"5.8.1","fr":60,"ip":0,"op":71,"w":16,"h":16,"nm":"合成 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 1","sr":1,"ks":{"o":{"a":0,"k":30,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[8,8,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[2,2,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[480,480],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":75,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.295],"y":[1]},"o":{"x":[0.705],"y":[0]},"t":13,"s":[0]},{"t":70,"s":[99.9]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.295],"y":[1]},"o":{"x":[0.705],"y":[0]},"t":0,"s":[0.1]},{"t":70,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"修剪路径 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":600,"st":0,"bm":0}],"markers":[]}';const k='{"v":"5.8.1","fr":60,"ip":0,"op":71,"w":16,"h":16,"nm":"合成 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"dark","sr":1,"ks":{"o":{"a":0,"k":30,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[8,8,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[2,2,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[480,480],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":75,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.295],"y":[1]},"o":{"x":[0.705],"y":[0]},"t":13,"s":[0]},{"t":70,"s":[99.9]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.295],"y":[1]},"o":{"x":[0.705],"y":[0]},"t":0,"s":[0.1]},{"t":70,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"修剪路径 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":600,"st":0,"bm":0}],"markers":[]}';const w=(0,i.aZ)({name:"DropDown",props:{value:{validator:e=>null===e||"string"==typeof e||e&&"object"==typeof e&&"string"==typeof e.value,default:null},items:{type:Array,validator:e=>Array.isArray(e),default:()=>[]},disabled:{type:Boolean,default:!1},itemStyles:{type:String,default:""}},setup(e,t){const n=(0,i.FN)().proxy,a=(0,i.iH)(null),o=(0,i.Fl)((()=>e.value?e.items.find((({value:t})=>t===e.value)):null)),s=(0,i.Fl)((()=>e.disabled||!e.items.length));(0,i.Jd)((()=>{l()}));const l=()=>{a.value&&n.$withUIKit((e=>{e.pop(a.value).close()}))};return{popover:a,selectedItem:o,isDisabled:s,handleItemSelect:e=>t.emit("input",e)}}});n(61323);var x=n(51900);const y=(0,x.Z)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("button",{staticClass:"uk-width-1-1 uk-button uk-button-popover-toggle uk-select-icon uk-text-left uk-overflow-hidden",attrs:{disabled:e.isDisabled}},[e.selectedItem?[e.selectedItem.label?t("span",[e._v(e._s(e.selectedItem.label))]):e._e()]:e._e()],2),e._v(" "),t("div",{ref:"popover",staticClass:"uk-popover-contextual",attrs:{"uk-contextual-popover":"offsetLeft: 0","data-sel-close":"[uk-menu] > li > button","data-autofocus-on-close":"false"}},[t("ul",{staticClass:"uk-overflow-auto",attrs:{"uk-menu":""}},e._l(e.items,(function(n,a){return t("li",{key:`${a}-${n.value}`,class:{"uk-menu-divider":n.separator}},[n.group?t("div",{staticClass:"drop-down-item-group"},[e._v("\n          "+e._s(n.group)+"\n        ")]):e._e(),e._v(" "),n.value?t("button",{class:{"uk-checked":(e.selectedItem&&e.selectedItem.value)===n.value},on:{click:function(t){return e.handleItemSelect(n.value)}}},[n.label?t("span",[e._v(e._s(n.label))]):e._e()]):e._e()])})),0)])])}),[],!1,null,"577acb92",null).exports;var g=n(78152),_=function(e,t,n,a){return new(n||(n=Promise))((function(i,o){function s(e){try{r(a.next(e))}catch(e){o(e)}}function l(e){try{r(a.throw(e))}catch(e){o(e)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}r((a=a.apply(e,t||[])).next())}))};const S=u().parse(window.location.search.slice(1)),A=(0,i.aZ)({components:{DropDown:y},setup(){const{topicHref:e,userAutoFillOpt:t}=S,n=(e,...t)=>(0,g.JE)().T(e,...t),a=(0,i.Fl)((()=>(0,g.S)().appearance)),r=(0,i.Fl)((()=>"dark"===a.value?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.03)")),u=(0,i.iH)(""),p=(0,i.iH)(e||""),h=(0,i.iH)(""),w=(0,i.iH)(!1),x=(0,i.iH)(),y=(0,i.iH)(),A=(0,i.iH)(),C=(0,i.iH)("init"),T=(0,i.iH)("init");let O,I,D=!1,W="";const E=(0,i.Fl)((()=>Boolean(p.value))),F=(0,i.Fl)((()=>Boolean(u.value))),P=(0,i.Fl)((()=>Boolean(h.value))),B=(0,i.Fl)((()=>Boolean(e))),L=(0,i.iH)("none"),R=(0,i.Fl)((()=>{const e=[{value:"none",label:n("None")}],t=[{value:"title",label:n("Webpage Title")}],a=[{value:"thumbnail",label:n("Video Thumbnail")}],i=[{value:"all",label:n("All Information")}];return u.value&&h.value?e.concat(t,a,i):u.value?e.concat(t):e})),$=e=>_(this,void 0,void 0,(function*(){if(I&&I({result:"abort"}),C.value="init",T.value="init",h.value="",u.value="",O=null,!e)return;C.value="loading",T.value="loading";const t=new Promise((t=>{I=t;const n=U(e);c.ZP.fetch(d.lf.URL_DETAILS,{url:n}).then((e=>{I=null,t({result:"success",webDetails:e})}))})),{result:n,webDetails:a}=yield t;if("success"===n){if(!a)return C.value="failed",void(T.value="failed");if(a.isVideoUrl&&(D=a.isVideoUrl),a.embedUrl&&(W=a.embedUrl),a.title?(u.value=a.title,C.value="success"):C.value="failed",a.thumbnail&&(O=yield(i=a.thumbnail,new Promise(((e,t)=>{const n=o.net.request(i),a=[];n.on("response",(n=>{n.on("end",(()=>{e(Buffer.concat(a))})),n.on("data",(e=>{a.push(e)})),n.on("error",(()=>{t()}))})),n.on("error",(()=>{t()})),n.end()}))),O))return h.value="data:image/png;base64,"+O.toString("base64"),void(T.value="success");var i;T.value="failed"}}));(0,i.YP)((()=>p.value),f()($,500),{immediate:!0}),(0,i.YP)((()=>[u.value,h.value]),(([e,n])=>{if(t){if(R.value.find((({value:e})=>e===t)))return void(L.value=t)}L.value=e&&n?"thumbnail":"none"})),(0,i.bv)((()=>{!function(e){const t=JSON.parse(b);v().loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,animationData:t})}(y.value),function(e){const t=JSON.parse(k);v().loadAnimation({container:e,renderer:"svg",loop:!0,autoplay:!0,animationData:t})}(A.value)}));const N=()=>{window.close()},U=e=>e.match(/([a-zA-Z0-9]+:\/\/)/)?e:"http://"+e,Z=(0,i.Fl)((()=>"init"===C.value?n("Link Information Preview"):"loading"===C.value?n("Loading link information..."):"failed"===C.value?n("No information found."):void 0)),M=(0,i.Fl)((()=>"init"===C.value?(0,m.ju)("static/assets/images/dialog-hyperlink/init.svg"):"failed"===C.value?(0,m.ju)("static/assets/images/dialog-hyperlink/failed.svg"):"loading"===C.value?"":void 0));let q;return q=(0,i.YP)((()=>h.value),(e=>{if(e){window.resizeTo(460,512);(0,o.getCurrentWindow)().center(),w.value=!0,q&&q()}})),{webUrl:p,webTitle:u,webThumbnailDataUrl:h,webTitleStatus:C,webThumbnailStatus:T,hasWebUrl:E,hasWebTitle:F,hasResizeWindow:w,hasWebThumbnailDataUrl:P,hasLinkInTopic:B,autoFillOpts:R,curAutoFillOpt:L,tips:Z,icon:M,background:r,appearance:a,linkInput:x,loadingAnimation:y,loadingAnimationDark:A,close:N,insertURL:()=>_(this,void 0,void 0,(function*(){yield c.ZP.fetch((0,d.iM)(window.id),{action:"set",webUrl:U(p.value),webTitle:u.value,thumbnail:O,embedUrl:W,autoFillOpt:L.value,isVideoUrl:D}),(0,s.L9)({eventAction:"Link",eventName:"Webpage"}),N()})),removeURL:()=>_(this,void 0,void 0,(function*(){yield c.ZP.fetch((0,d.iM)(window.id),{action:"remove"}),N()})),handleAutoFillChange:e=>{e&&(L.value=e)},handleShowInputMenu:()=>(0,l.Sr)(x.value.value),updateWebTitleAndThumbnail:$}}});n(98042);const C=(0,x.Z)(A,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"uk-window uk-window-dialog"},[t("div",{staticClass:"uk-window-title-bar uk-window-title-bar-floating"},[t("window-control-button-group")],1),e._v(" "),t("div",{staticClass:"uk-window-body uk-padding-large uk-padding-remove-bottom uk-flex",staticStyle:{"padding-top":"32px","flex-direction":"column"}},[t("p",{staticClass:"uk-margin-bottom",staticStyle:{"font-size":"20px","font-weight":"700"}},[e._v("\n      "+e._s(e.$T("Insert Web Link"))+"\n    ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.webUrl,expression:"webUrl"}],ref:"linkInput",staticClass:"uk-input uk-margin-small-bottom",staticStyle:{"padding-left":"8px"},attrs:{autofocus:"",type:"text",spellcheck:"false",placeholder:e.$T("Enter or paste a URL")},domProps:{value:e.webUrl},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateWebTitleAndThumbnail(t.target.value)},contextmenu:function(t){return e.handleShowInputMenu()},input:function(t){t.target.composing||(e.webUrl=t.target.value)}}}),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-middle uk-flex-center uk-margin-small-bottom uk-overflow-hidden",staticStyle:{"border-radius":"8px",flex:"1","flex-direction":"column","justify-content":"flex-start"},style:{backgroundColor:e.background}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasWebTitle,expression:"hasWebTitle"}],staticClass:"uk-flex uk-flex-middle",staticStyle:{margin:"16px"},style:{height:e.hasResizeWindow?"42px":"100%","margin-bottom":e.hasResizeWindow?"12px":"16px"}},[t("span",{staticClass:"dialog-hyperlink-tips"},[e._v("\n          "+e._s(e.webTitle)+"\n        ")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasWebTitle,expression:"!hasWebTitle"}],staticClass:"uk-flex uk-flex-middle",staticStyle:{flex:"1",margin:"16px 16px 12px 16px"}},[t("img",{attrs:{"uk-svg":"","data-src":e.icon}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.webThumbnailStatus&&"default"===e.appearance,expression:"\n            webThumbnailStatus === 'loading' && appearance === 'default'\n          "}],ref:"loadingAnimation",staticStyle:{display:"inline-block"}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.webThumbnailStatus&&"dark"===e.appearance,expression:"webThumbnailStatus === 'loading' && appearance === 'dark'"}],ref:"loadingAnimationDark",staticStyle:{display:"inline-block"}}),e._v(" "),t("span",{staticStyle:{"font-weight":"500",opacity:"0.3","padding-left":"4px"}},[e._v("\n          "+e._s(e.tips)+"\n        ")])]),e._v(" "),e.hasWebThumbnailDataUrl?t("div",{staticClass:"uk-width-1-1 uk-background-contain",staticStyle:{padding:"16px","padding-top":"0",height:"210px"},style:{"background-image":e.hasWebThumbnailDataUrl?`url(${e.webThumbnailDataUrl})`:null}}):e.hasResizeWindow&&"loading"!==e.webTitleStatus&&e.hasWebTitle?t("div",{staticClass:"uk-text-center",staticStyle:{width:"90%",height:"210px","line-height":"210px","border-top":"1px solid rgba(0, 0, 0, 0.08)"}},[t("span",{attrs:{"uk-svg":"",src:e.$toResourceURL("static/assets/images/dialog-hyperlink/thumbnail.svg")}}),e._v(" "),t("span",{staticStyle:{"font-weight":"500",opacity:"0.3"}},[e._v(e._s(e.$T("No video thumbnail."))+"\n        ")])]):e._e()]),e._v(" "),t("div",{staticClass:"uk-flex uk-flex-middle"},[t("span",{staticClass:"uk-margin-small-right",staticStyle:{"font-weight":"500","font-size":"13px"}},[e._v("\n        "+e._s(e.$T("Auto fill:"))+"\n      ")]),e._v(" "),t("drop-down",{staticStyle:{display:"inline-block",width:"144px"},attrs:{value:e.curAutoFillOpt,items:e.autoFillOpts,disabled:!(e.hasWebTitle||e.hasWebThumbnailDataUrl)},on:{input:e.handleAutoFillChange}})],1)]),e._v(" "),t("div",{staticClass:"uk-window-button-bar"},[t("div",{staticClass:"uk-button-group"},[t("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button",tabindex:"-1"},on:{click:e.close}},[e._v("\n        "+e._s(e.$T("Cancel"))+"\n      ")]),e._v(" "),t("button",{staticClass:"uk-button uk-button-primary",attrs:{type:"button",tabindex:"-1",disabled:!e.hasWebUrl},on:{click:e.insertURL}},[e._v("\n        "+e._s(e.$T("Insert"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"uk-button-group"},[e.hasLinkInTopic?t("button",{staticClass:"uk-button uk-button-default",attrs:{type:"button",tabindex:"-1"},on:{click:e.removeURL}},[e._v("\n        "+e._s(e.$T("Remove"))+"\n      ")]):e._e()])])])}),[],!1,null,null,null).exports;(0,a.Z)(C,{name:"dialog-hyperlink"})},13382:(e,t,n)=>{"use strict";n.d(t,{G$:()=>_,N0:()=>v,Pg:()=>A,R2:()=>g,W5:()=>y,ZZ:()=>k,am:()=>x,eq:()=>w,yr:()=>S});var a=n(71017),i=n.n(a),o=n(67657),s=n(7104),l=n(86633),r=n(33394),u=n(94593),c=n(90435),d=n(54856),p=n(5893),f=n(78152),m=n(63111);const h=(0,l.ZP)("dialog");async function v(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=i().join((0,s.bY)(),e.icon));const t=o.BrowserWindow.fromId(window.id);return[o.dialog.showMessageBoxSync(t,e)]}async function b(e){(e=Object.assign({},e||{})).icon&&"string"==typeof e.icon&&(e.icon=i().join((0,s.bY)(),e.icon));const t=o.BrowserWindow.fromId(window.id),{response:n,checkboxChecked:a}=await o.dialog.showMessageBox(t,e);return[n,a]}async function k(e){(e=Object.assign({securityScopedBookmarks:!0},e||{})).suggestPath&&!e.defaultPath&&(e.defaultPath=x(e.suggestPath,e.filters),delete e.suggestPath);const{canceled:t,filePath:n,bookmark:a}=await o.dialog.showSaveDialog(o.getCurrentWindow(),e);return t?null:(n&&a&&await r.Z.bindBookmark({fp:n,bookmark:a}),n&&(0,f.km)().setLastSaveDirectory(i().dirname(n)),n)}async function w({folderName:e,dialogOptions:t}){let n="";(t=Object.assign({securityScopedBookmarks:!0},t||{})).defaultPath||(t.defaultPath=x({}));const{canceled:a,filePaths:s,bookmark:l}=await o.dialog.showOpenDialog(o.getCurrentWindow(),t);if(a)return null;if(n=s[0],s.length>0&&l&&await r.Z.bindBookmark({fp:n,bookmark:l}),"string"==typeof e){let t=e.replace(/[\\/]/g,"");t=(0,p.N6)(t).replace(/\.+$/g,"").trim(),n=i().join(n,t)}return u.Z.existsSync(n)||u.Z.ensureDir(n),n&&(0,f.km)().setLastSaveDirectory(n),n}function x({doc:e=null,oldDoc:t=null,suggestedName:n=null},a=null){let s,l;if(!s&&n&&(s=(0,p.N6)(n.toString())),!s&&e&&e.title&&e.source&&!e.source.startsWith("new://")&&(s=(0,p.N6)(e.title.toString())),!s&&t&&t.title&&t.source&&!t.source.startsWith("new://")&&(s=(0,p.N6)(t.title.toString())),s&&Array.isArray(a)){const e=a[0]&&a[0].extensions;Array.isArray(e)&&e.length>0&&(s=`${s}.${e[0]}`)}if(!l&&t&&t.source&&t.source.startsWith("file://")){let e=t.source.slice(7);e=e.substring(1),l=i().dirname(e)}if(!l&&(0,f.km)().lastSaveDirectory&&(l=(0,f.km)().lastSaveDirectory),!l)try{l=o.app.getPath("documents")}catch(e){h.info(e)}return l&&s?i().join(l,s):l||s}async function y(e){e.$withUIKit((t=>{const n=`\n        <button\n        class="uk-button uk-button-text uk-text-nowrap"\n        style="word-break: keep-all;"\n        focustrigger="cannotGetFocusByMouse">\n          ${e.$T("OK")}\n        </button>\n        </div>`;t.toast({message:e.$T("The map style has been updated for your current version of Xmind."),pos:"bottom-center",timeout:5e3,btn:n,style:{width:"500px",height:"auto",padding:"10px 20px"},btnClick:t.toast.clearAll()})}))}async function g(e){const t=(e="function"!=typeof e?e=>e:e)("OK"),n=e("Get Latest Version"),a=[t,n],[i]=await b({title:"Xmind",message:e("The map style in this file might vary since it was created in a newer version of Xmind."),detail:e("You can continue to open the file or update to the latest version for better compatibility."),buttons:a,defaultId:a.indexOf(n),cancelId:a.indexOf(t),noLink:!0});i===a.indexOf(n)&&c.ZP.fetch(d.lf.GO_DOWNLOAD)}async function _(e){if(e="function"!=typeof e?e=>e:e,m.zr)return await b({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created with a newer version of Xmind. Please contact your corporate administrator for the latest update."),buttons:[e("Done")],defaultId:0,noLink:!0});const t=e("Cancel"),n=e("Get Latest Version"),a=[n,t],[i]=await b({title:"Xmind",message:e("Failed to Open File"),detail:e("The file was created by a newer version of Xmind. Please update Xmind and try to open it again."),buttons:a,defaultId:a.indexOf(n),cancelId:a.indexOf(t),noLink:!0});i===a.indexOf(n)&&c.ZP.fetch(d.lf.GO_DOWNLOAD)}async function S(e){const t=(e="function"!=typeof e?e=>e:e)("Save"),n=e("Save as"),a=e("Cancel"),i=[];i.push(n,t,a);let[o]=await b({type:"none",title:"Xmind",message:e("Saving file from Xmind"),detail:e("Once you save the file, it cannot be opened normally in older versions like $1.","Xmind 22.11"),buttons:i,defaultId:i.indexOf(n),cancelId:i.indexOf(a),noLink:!0});const s=o===i.indexOf(t),l=o===i.indexOf(n);return{toSave:s,toSaveAs:l,toCancel:!s&&!l}}async function A(e){const t=(e="function"!=typeof e?e=>e:e)("Fix ＆ Open"),n=e("Cancel"),a=[t,n],[i]=await b({title:"Xmind",message:e("Failed to Open File"),detail:e("The file may contain invalid data structure or have become corrupted. Xmind can try to fix the data structure to help you open it."),buttons:a,defaultId:a.indexOf(t),cancelId:a.indexOf(n),noLink:!0});return{toFix:i===a.indexOf(t),toCancel:i===a.indexOf(n)}}},33394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(57147),i=n.n(a),o=n(71017),s=n.n(o),l=n(73837),r=n(86633),u=n(96829),c=n(56222);const d=(0,r.ZP)("renderer:fs");async function p(e){return(0,c.A)("OBTAIN_READ_WRITE_ACCESS",e)}async function f(e){return(0,c.A)("RELEASE_READ_WRITE_ACCESS",e)}const m={read:async function(e){if(!s().isAbsolute(e))throw new Error("Must be an absolute path.");const t=await async function(e){return(0,c.A)("OBTAIN_READ_LOCK",e)}(e);try{return await(0,l.promisify)(i().readFile)(e)}catch(t){d.error(`path(${e}) read error: ${(0,u.SC)(t)}`);try{if(!await p(e))throw new Error(`No access to '${e}'`);return await(0,l.promisify)(i().readFile)(e)}catch(e){throw e}finally{await f(e)}}finally{await async function(e){return(0,c.A)("RELEASE_READ_LOCK",e)}(t)}},write:async function(e,t){if(!s().isAbsolute(e))throw new Error("Must be an absolute path.");const n=await async function(e){return(0,c.A)("OBTAIN_WRITE_LOCK",e)}(e);try{return await(0,l.promisify)(i().writeFile)(e,t)}catch(n){d.error(`path(${e}) write error: ${(0,u.SC)(n)}`);try{if(!await p(e))throw new Error(`No access to '${e}'`);return await(0,l.promisify)(i().writeFile)(e,t)}catch(e){throw e}finally{await f(e)}}finally{await async function(e){return(0,c.A)("RELEASE_WRITE_LOCK",e)}(n)}},bindBookmark:async function({fp:e,bookmark:t}={}){return(0,c.A)("BIND_BOOKMARK",{fp:e,bookmark:t})},hasRWAccess:async function(e){return(0,c.A)("HAS_READ_WRITE_ACCESS",e)},obtainRWAccessFromOS:p,releaseRWAccessFromOS:f}},95246:(e,t,n)=>{"use strict";n.d(t,{RS:()=>d,lF:()=>p,gP:()=>h,sF:()=>c,GI:()=>f,Ni:()=>m,mi:()=>y,QC:()=>b,Sr:()=>k,yB:()=>x,SX:()=>w,RL:()=>v});n(13382),n(81296),n(90435),n(54856),n(71017);var a=n(72298),i=n(67657),o=(n(63111),n(41809));require("posthtml");var s=n(97234),l=n(26601),r=n(78152);const u={cache:!1},c=e=>{const t=e=>parseInt(e,16);if("string"==typeof(e=(0,s.Z)(e).toHexString())&&/^#[A-Z0-9]{6}$/.test(e.toUpperCase())){return.2126*t(e.slice(1,3))+.7152*t(e.slice(3,5))+.0722*t(e.slice(5))}return 0},d=(e={})=>{const t=Object.assign({},u,e);let n=null;const a={};return function(e="",i=""){if(t.cache&&a[e])return a[e];n||(n=document.createElement("canvas"));const o=n.getContext("2d");o.font=i;const s=o.measureText(e);return t.cache&&(a[e]=s.width),s.width}};const p=(e,t=1)=>{const n=function(){const e=i.screen.getAllDisplays().map((e=>e.scaleFactor));return Math.max.apply(null,e)}(),a=(0,o.Hv)(e,72*n*t);return Buffer.from(a.slice(22),"base64")};function f(e){let t=parseInt(e);return Number.isInteger(t)?t:100}function m(e){return`${parseInt(e)}%`}const h=function(){let e=null;return function(){if(!e)if(window.screen.deviceXDPI&&window.screen.deviceYDPI)e={x:window.screen.deviceXDPI,y:window.screen.deviceYDPI};else{const t=document.createElement("div");t.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e={x:parseInt(t.offsetWidth),y:parseInt(t.offsetHeight)},t.parentNode.removeChild(t)}return e}}();function v(e,t){let n=(0,r.f7)().keybindingByCommandIdAndGroup(t);const a=[];return"string"==typeof n&&n.split("+").forEach((e=>{let t=e;"="===t&&(t="+"),t&&a.push(t)})),a.length>0?`${e} ${a.join(" ")}`:e}const b=(e,t)=>{i.getCurrentWindow().setSize(e,t)},k=e=>{const t=(e,...t)=>(0,r.JE)().T(e,...t),n=i.Menu,o=i.MenuItem,s=new n;setTimeout((()=>{const n=document.getSelection().toString(),l=a.clipboard.readText();s.append(new o({label:t("Cut"),enabled:Boolean(n),click:()=>document.execCommand("cut")})),s.append(new o({label:t("Copy"),enabled:Boolean(n),click:()=>document.execCommand("copy")})),s.append(new o({label:t("Paste"),enabled:Boolean(l),click:()=>document.execCommand("paste")})),s.append(new o({type:"separator"})),s.append(new o({label:t("Select All"),enabled:Boolean(e),click:()=>document.execCommand("selectAll")})),s.popup({window:i.getCurrentWindow()})}),50)};async function w(){await new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame((()=>{requestIdleCallback(e)}))}))))}const x=(e,t)=>l.Z.test({width:e,height:t,sizes:[e,t]}),y=async(e,t,n=1)=>{if(x(e*n,t*n))return n;const a=await l.Z.maxWidth({usePromise:!0}),i=await l.Z.maxHeight({usePromise:!0}),o=await l.Z.maxArea({usePromise:!0}),s=a.width,r=i.height,u=o.width*o.height;let c=n;if(e*n>s){const t=s/e;c=Math.min(c,t)}if(t*n>r){const e=r/t;c=Math.min(c,e)}if(e*n*t*n>u){const n=Math.sqrt(u/(e*t));c=Math.min(c,n)}return c}},98042:(e,t,n)=>{var a=n(78169);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("a4c6b81c",a,!0,{})},61323:(e,t,n)=>{var a=n(23464);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,n(45346).Z)("62b0fa47",a,!0,{})},6113:e=>{"use strict";e.exports=require("crypto")},72298:e=>{"use strict";e.exports=require("electron")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")}},e=>{e.O(0,[1248,4130,2244],(()=>{return t=18409,e(e.s=t);var t}));var t=e.O();module.exports=t}]);